<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of initMeta</title>
  <meta name="keywords" content="initMeta">
  <meta name="description" content="% Initialization of the surrogate model">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../../menu.html GRENATdevel --><!-- # src --><!-- menu.html init -->
<h1>initMeta
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>% Initialization of the surrogate model</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">% Initialization of the surrogate model
 L. LAURENT -- 17/12/2010 -- luc.laurent@lecnam.net</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="initMeta.html" class="code" title="">initMeta</a>	% Initialization of the surrogate model</li><li><a href="../../../GRENATdevel/src/surrogate/@KRG/cv.html" class="code" title="function [crit,cv]=cv(obj,paraValIn,type)">cv</a>	% Compute Cross-Validation</li><li><a href="../../../GRENATdevel/src/surrogate/@RBF/cv.html" class="code" title="function [crit,cv]=cv(obj,paraValIn,type)">cv</a>	% Compute Cross-Validation</li><li><a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>	% function for printing information on the command window (based on fprintf)</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../GRENATdevel/GRENAT.html" class="code" title="">GRENAT</a>	% GRENAT class for manipulating gradient-enhanced metamodels</li><li><a href="initMeta.html" class="code" title="">initMeta</a>	% Initialization of the surrogate model</li><li><a href="../../../GRENATdevel/src/surrogate/testXLS.html" class="code" title="">testXLS</a>	</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function obj=initMeta(varargin)</a></li><li><a href="#_sub2" class="code">function set.useGrad(obj,boolIn)</a></li><li><a href="#_sub3" class="code">function set.type(obj,charIn)</a></li><li><a href="#_sub4" class="code">function set.stepTaylor(obj,doubleIn)</a></li><li><a href="#_sub5" class="code">function set.lVal(obj,doubleIn)</a></li><li><a href="#_sub6" class="code">function set.lMin(obj,doubleIn)</a></li><li><a href="#_sub7" class="code">function set.lMax(obj,doubleIn)</a></li><li><a href="#_sub8" class="code">function set.pMin(obj,doubleIn)</a></li><li><a href="#_sub9" class="code">function set.pMax(obj,doubleIn)</a></li><li><a href="#_sub10" class="code">function set.nuMin(obj,doubleIn)</a></li><li><a href="#_sub11" class="code">function set.nuMax(obj,doubleIn)</a></li><li><a href="#_sub12" class="code">function set.pVal(obj,doubleIn)</a></li><li><a href="#_sub13" class="code">function set.nuVal(obj,doubleIn)</a></li><li><a href="#_sub14" class="code">function set.polyOrder(obj,doubleIn)</a></li><li><a href="#_sub15" class="code">function set.swfPara(obj,doubleIn)</a></li><li><a href="#_sub16" class="code">function set.e0(obj,doubleIn)</a></li><li><a href="#_sub17" class="code">function set.ek(obj,doubleIn)</a></li><li><a href="#_sub18" class="code">function set.c0(obj,doubleIn)</a></li><li><a href="#_sub19" class="code">function set.ck(obj,doubleIn)</a></li><li><a href="#_sub20" class="code">function set.nuSVR(obj,doubleIn)</a></li><li><a href="#_sub21" class="code">function set.nuGSVR(obj,doubleIn)</a></li><li><a href="#_sub22" class="code">function set.estimOn(obj,boolIn)</a></li><li><a href="#_sub23" class="code">function set.aniso(obj,boolIn)</a></li><li><a href="#_sub24" class="code">function set.dispEstim(obj,boolIn)</a></li><li><a href="#_sub25" class="code">function set.saveEstim(obj,boolIn)</a></li><li><a href="#_sub26" class="code">function set.typeEstim(obj,charIn)</a></li><li><a href="#_sub27" class="code">function set.dispIterGraph(obj,boolIn)</a></li><li><a href="#_sub28" class="code">function set.dispIterCmd(obj,boolIn)</a></li><li><a href="#_sub29" class="code">function set.dispPlotAlgo(obj,boolIn)</a></li><li><a href="#_sub30" class="code">function set.method(obj,charIn)</a></li><li><a href="#_sub31" class="code">function set.sampManu(obj,charIn)</a></li><li><a href="#_sub32" class="code">function set.sampManuOn(obj,boolIn)</a></li><li><a href="#_sub33" class="code">function set.nbSampInit(obj,doubleIn)</a></li><li><a href="#_sub34" class="code">function set.critOpti(obj,doubleIn)</a></li><li><a href="#_sub35" class="code">function set.kern(obj,charIn)</a></li><li><a href="#_sub36" class="code">function set.normOn(obj,boolIn)</a></li><li><a href="#_sub37" class="code">function set.recond(obj,boolIn)</a></li><li><a href="#_sub38" class="code">function set.cvOn(obj,boolIn)</a></li><li><a href="#_sub39" class="code">function set.cvFull(obj,boolIn)</a></li><li><a href="#_sub40" class="code">function set.cvDisp(obj,boolIn)</a></li><li><a href="#_sub41" class="code">function set.infillOn(obj,boolIn)</a></li><li><a href="#_sub42" class="code">function set.infillCrit(obj,charIn)</a></li><li><a href="#_sub43" class="code">function set.infillParaWEI(obj,doubleIn)</a></li><li><a href="#_sub44" class="code">function set.infillParaGEI(obj,doubleIn)</a></li><li><a href="#_sub45" class="code">function set.infillParaLCB(obj,doubleIn)</a></li><li><a href="#_sub46" class="code">function set.checkInterp(obj,boolIn)</a></li><li><a href="#_sub47" class="code">function availableType(obj)</a></li><li><a href="#_sub48" class="code">function availableKernel(obj)</a></li><li><a href="#_sub49" class="code">function definePara(obj,paraIn)</a></li><li><a href="#_sub50" class="code">function updatePara(obj)</a></li><li><a href="#_sub51" class="code">function updateInfill(obj)</a></li><li><a href="#_sub52" class="code">function updateEstim(obj)</a></li><li><a href="#_sub53" class="code">function updateCV(obj)</a></li><li><a href="#_sub54" class="code">function updateAllStruct(obj,~,~)</a></li><li><a href="#_sub55" class="code">function conf(obj,varargin)</a></li><li><a href="#_sub56" class="code">function isF=isfield(obj,field)</a></li><li><a href="#_sub57" class="code">function info=affectTxtProp()</a></li><li><a href="#_sub58" class="code">function dispTableTwoColumnsStruct(tableFiedIn,structIn)</a></li><li><a href="#_sub59" class="code">function dispTableTwoColumns(tableA,tableB)</a></li><li><a href="#_sub60" class="code">function okG=isG(varIn,typeIn)</a></li><li><a href="#_sub61" class="code">function okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)</a></li><li><a href="#_sub62" class="code">function SwitchOnOff(boolIn)</a></li><li><a href="#_sub63" class="code">function cl_out = findAttrValue(obj,attrName,varargin)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%% Initialization of the surrogate model</span>
0002 <span class="comment">% L. LAURENT -- 17/12/2010 -- luc.laurent@lecnam.net</span>
0003 
0004 <span class="comment">%     GRENAT - GRadient ENhanced Approximation Toolbox</span>
0005 <span class="comment">%     A toolbox for generating and exploiting gradient-enhanced surrogate models</span>
0006 <span class="comment">%     Copyright (C) 2016  Luc LAURENT &lt;luc.laurent@lecnam.net&gt;</span>
0007 <span class="comment">%</span>
0008 <span class="comment">%     This program is free software: you can redistribute it and/or modify</span>
0009 <span class="comment">%     it under the terms of the GNU General Public License as published by</span>
0010 <span class="comment">%     the Free Software Foundation, either version 3 of the License, or</span>
0011 <span class="comment">%     (at your option) any later version.</span>
0012 <span class="comment">%</span>
0013 <span class="comment">%     This program is distributed in the hope that it will be useful,</span>
0014 <span class="comment">%     but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
0015 <span class="comment">%     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
0016 <span class="comment">%     GNU General Public License for more details.</span>
0017 <span class="comment">%</span>
0018 <span class="comment">%     You should have received a copy of the GNU General Public License</span>
0019 <span class="comment">%     along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
0020 
0021 classdef <a href="initMeta.html" class="code" title="">initMeta</a> &lt; handle
0022     properties
0023         useGrad=true;         <span class="comment">%taking into account gradients</span>
0024         type=<span class="string">'KRG'</span>;            <span class="comment">%type of surrogate model</span>
0025         normOn=true;        <span class="comment">%normalization</span>
0026         recond=true;        <span class="comment">%improve condition number of matrix (kriging, RBF, SVR...)</span>
0027         kern=<span class="string">'matern32'</span>;    <span class="comment">%kernel function</span>
0028         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0029         <span class="comment">%% Check interpolation</span>
0030         checkInterp=true;   <span class="comment">%activate/deactivate the checking of the interpolation property</span>
0031         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0032         para;               <span class="comment">%struct for storing choice of parameters</span>
0033         estim;              <span class="comment">%struct for storing estimation parameters</span>
0034         infill;             <span class="comment">%struct for storing infillment parameters</span>
0035         <a href="../../../GRENATdevel/src/surrogate/@KRG/cv.html" class="code" title="function [crit,cv]=cv(obj,paraValIn,type)">cv</a>;                 <span class="comment">%struct for storing cross-validation parameters</span>
0036         miss;               <span class="comment">%struct for storing missing data</span>
0037         norm;               <span class="comment">%struct for storing normalization data</span>
0038     <span class="keyword">end</span>
0039     properties (SetObservable, AbortSet)
0040         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0041         <span class="comment">%%parameters</span>
0042         stepTaylor=10^-2;   <span class="comment">%Taylor's step for indirect gradient-based</span>
0043         lVal=1;             <span class="comment">%internal length (correlation length)</span>
0044         pVal=2;             <span class="comment">%power exponent for generalized exponential kernel function</span>
0045         nuVal=0.6;          <span class="comment">%smoothness coefficient for Matern kernel function</span>
0046         lMin=1e-6;
0047         lMax=30;
0048         pMax=2;
0049         pMin=1.001;
0050         nuMin=1.5;
0051         nuMax=5;
0052         polyOrder=0;        <span class="comment">%polynomial order for kriging, xLS</span>
0053         swfPara=1;          <span class="comment">%swf parameter</span>
0054         <span class="comment">%% internal parameters for SVR/GSVR</span>
0055         e0=1e-2;            <span class="comment">%thickness of the tube (not used for nu-SVR)</span>
0056         ek=1e-2;            <span class="comment">%thickness of the tube of gradient (not used for nu-SVR)</span>
0057         c0=1e2;             <span class="comment">%constant for trade off between flatness of the function and the amount up to</span>
0058         <span class="comment">%which deviations larger to e0 are tolerated</span>
0059         ck=1e2;             <span class="comment">%same trade off constant as before</span>
0060         nuSVR=0.6;          <span class="comment">%parameter of the nu-SVR (nu in [0,1])</span>
0061         nuGSVR=0.6;         <span class="comment">%idem for nu-GSVR</span>
0062         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0063         <span class="comment">%% internal parameters estimation</span>
0064         estimOn=true;       <span class="comment">% seek for best values of the internal parameters</span>
0065         aniso=true;         <span class="comment">% anisotropic model (one internal length per variable)</span>
0066         dispEstim=false;    <span class="comment">% display objective function to be minimised</span>
0067         saveEstim=false;    <span class="comment">% save evolution function to be minimized</span>
0068         typeEstim=<span class="string">'logli'</span>;  <span class="comment">% type of criterion used for estimated the parameters (logli or cv or cvmse or cvwmse or cvlpp)</span>
0069         dispIterGraph=false;<span class="comment">% display iterations of the optimisation process on a figure (1D/2D)</span>
0070         dispIterCmd=false;  <span class="comment">% display iteration in the console</span>
0071         dispPlotAlgo=false; <span class="comment">% display converg ence information on figures</span>
0072         method=<span class="string">'pso'</span>;       <span class="comment">% optimizer used for finding internal parameter</span>
0073         sampManuOn=0;       <span class="comment">% initial sampling or not</span>
0074         sampManu=<span class="string">'IHS'</span>;     <span class="comment">% method used for the initial sampling for GA ('', 'LHS','IHS'...)</span>
0075         nbSampInit=[];      <span class="comment">% number of sample points of the initial sampling for GA</span>
0076         critOpti=10^-6;     <span class="comment">% Value of the stopping criterion of the optimizer</span>
0077         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0078         cvOn=true;          <span class="comment">%cross-validation</span>
0079         cvFull=false;       <span class="comment">%compute all CV criteria</span>
0080         cvDisp=false;       <span class="comment">%display QQ plot CV</span>
0081         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0082         <span class="comment">%% infill strategy</span>
0083         infillOn=false;     <span class="comment">%activate/desactivate computation of the infill criterion</span>
0084         infillCrit=<span class="string">'EI'</span>;    <span class="comment">%type of criterion used for the infill strategy</span>
0085         infillParaWEI=0.5;  <span class="comment">%parameters for Weighted Expected Improvement</span>
0086         infillParaGEI=1;    <span class="comment">%parameters for Generalized Expected Improvement</span>
0087         infillParaLCB=0.5;  <span class="comment">%parameters for Lower Confidence Bound</span>
0088     <span class="keyword">end</span>
0089     properties (Access = private,Constant)
0090         infoProp=<a href="#_sub57" class="code" title="subfunction info=affectTxtProp()">affectTxtProp</a>;
0091         kernAvail={<span class="string">'matern'</span>,<span class="string">'matern32'</span>,<span class="string">'matern52'</span>,<span class="string">'sexp'</span>};
0092         typeAvail={<span class="string">'SWF'</span>,<span class="string">'IDW'</span>,<span class="string">'RBF'</span>,<span class="string">'InRBF'</span>,<span class="string">'GRBF'</span>,<span class="string">'KRG'</span>,<span class="string">'InKRG'</span>,<span class="string">'GKRG'</span>,<span class="string">'SVR'</span>,<span class="string">'InSVR'</span>,<span class="string">'GSVR'</span>,<span class="string">'DACE'</span>,<span class="string">'InDACE'</span>,<span class="string">'LS'</span>,<span class="string">'GLS'</span>,<span class="string">'InLS'</span>};<span class="comment">%,'PRG','ILIN','ILAG'};</span>
0093         typeTxt={<span class="string">'Shepard Weighting Function or Inverse Distance Weighting'</span>,<span class="keyword">...</span>
0094             <span class="string">'idem'</span>,<span class="keyword">...</span>
0095             <span class="string">'Radial Basis Function'</span>,<span class="keyword">...</span>
0096             <span class="string">'Gradient-Based Indirect Radial Basis Function'</span>,<span class="keyword">...</span>
0097             <span class="string">'Gradient-Based Radial Basis Function'</span>,<span class="keyword">...</span>
0098             <span class="string">'Kriging'</span>,<span class="keyword">...</span>
0099             <span class="string">'Gradient-Based Indirect Kriging'</span>,<span class="keyword">...</span>
0100             <span class="string">'Gradient-Based Cokriging'</span>,<span class="keyword">...</span>
0101             <span class="string">'Support Vector Regression'</span>,<span class="keyword">...</span>
0102             <span class="string">'Gradient-Based Indirect Support Vector Regression'</span>,<span class="keyword">...</span>
0103             <span class="string">'Gradient-Based Support Vector Regression'</span>,<span class="keyword">...</span>
0104             <span class="string">'DACE'</span>,<span class="keyword">...</span>
0105             <span class="string">'Gradient-Based Indirect DACE'</span>,<span class="keyword">...</span>
0106             <span class="string">'Least-squares'</span>,<span class="keyword">...</span>
0107             <span class="string">'Gradient-Based Least-squares'</span>,<span class="keyword">...</span>
0108             <span class="string">'Gradient-Based Indirect Least-squares'</span>};
0109     <span class="keyword">end</span>
0110     methods
0111         <span class="comment">%constructor</span>
0112         <a name="_sub0" href="#_subfunctions" class="code">function obj=initMeta(varargin)</a>
0113             <span class="comment">%if they are input variables</span>
0114             <span class="keyword">if</span> nargin&gt;0;<a href="#_sub55" class="code" title="subfunction conf(obj,varargin)">conf</a>(obj,varargin{:});<span class="keyword">end</span>
0115             <span class="comment">%display message</span>
0116             <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Initialization of the metamodel configuration\n'</span>);
0117             <span class="comment">%listeners</span>
0118             <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0119             <span class="comment">%%add listener for specific event (execute method after the set</span>
0120             <span class="comment">%%of the 'SetObservable' properties</span>
0121             <span class="comment">%find the 'SetObservable' properties</span>
0122             setObservProperties=<a href="#_sub63" class="code" title="subfunction cl_out = findAttrValue(obj,attrName,varargin)">findAttrValue</a>(obj,<span class="string">'SetObservable'</span>);
0123             <span class="comment">%create listeners</span>
0124             addlistener(obj,setObservProperties,<span class="string">'PostSet'</span>,@obj.updateAllStruct);
0125             <span class="comment">%create all structures</span>
0126             <a href="#_sub54" class="code" title="subfunction updateAllStruct(obj,~,~)">updateAllStruct</a>(obj);
0127         <span class="keyword">end</span>
0128         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0129         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0130         <span class="comment">%%setters</span>
0131         <a name="_sub1" href="#_subfunctions" class="code">function set.useGrad(obj,boolIn)</a>
0132             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0133                 <span class="keyword">if</span> xor(obj.useGrad,boolIn)
0134                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Use input gradients : '</span>);
0135                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0136                 <span class="keyword">end</span>
0137                 obj.useGrad=boolIn;
0138             <span class="keyword">end</span>
0139         <span class="keyword">end</span>
0140         <a name="_sub2" href="#_subfunctions" class="code">function set.type(obj,charIn)</a>
0141             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(charIn,<span class="string">'char'</span>)
0142                 <span class="keyword">if</span> ismember(charIn,obj.typeAvail)
0143                     <span class="keyword">if</span> ~strcmp(obj.type,charIn)
0144                         <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Type of metamodel : %s (previous %s)\n'</span>,charIn,obj.type);
0145                     <span class="keyword">end</span>
0146                     obj.type=charIn;
0147                 <span class="keyword">else</span>
0148                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' Type %s not available\n'</span>,charIn);
0149                     <a href="#_sub47" class="code" title="subfunction availableType(obj)">availableType</a>(obj);
0150                     error(<span class="string">'STOP'</span>);
0151                 <span class="keyword">end</span>
0152             <span class="keyword">end</span>
0153         <span class="keyword">end</span>
0154         <a name="_sub3" href="#_subfunctions" class="code">function set.stepTaylor(obj,doubleIn)</a>
0155             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.stepTaylor,<span class="string">'Taylor''s step for indirect gradient-based'</span>,0,[])
0156                 obj.stepTaylor=doubleIn;
0157             <span class="keyword">end</span>
0158         <span class="keyword">end</span>
0159         <a name="_sub4" href="#_subfunctions" class="code">function set.lVal(obj,doubleIn)</a>
0160             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.lVal,<span class="string">'Internal length'</span>,0,[])
0161                 obj.lVal=doubleIn;
0162             <span class="keyword">end</span>
0163         <span class="keyword">end</span>
0164         <a name="_sub5" href="#_subfunctions" class="code">function set.lMin(obj,doubleIn)</a>
0165             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.lMin,<span class="string">'Minimum internal length'</span>,0,[])
0166                 obj.lMin=doubleIn;
0167             <span class="keyword">end</span>
0168         <span class="keyword">end</span>
0169         <a name="_sub6" href="#_subfunctions" class="code">function set.lMax(obj,doubleIn)</a>
0170             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.lMax,<span class="string">'Maximum internal length'</span>,0,[])
0171                 obj.lMax=doubleIn;
0172             <span class="keyword">end</span>
0173         <span class="keyword">end</span>
0174         <a name="_sub7" href="#_subfunctions" class="code">function set.pMin(obj,doubleIn)</a>
0175             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.pMin,<span class="string">'Minimum power exponent generalized exponential kernel'</span>,0,[])
0176                 obj.pMin=doubleIn;
0177             <span class="keyword">end</span>
0178         <span class="keyword">end</span>
0179         <a name="_sub8" href="#_subfunctions" class="code">function set.pMax(obj,doubleIn)</a>
0180             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.pMax,<span class="string">'Maximum power exponent generalized exponential kernel'</span>,0,[])
0181                 obj.pMax=doubleIn;
0182             <span class="keyword">end</span>
0183         <span class="keyword">end</span>
0184         <a name="_sub9" href="#_subfunctions" class="code">function set.nuMin(obj,doubleIn)</a>
0185             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.nuMin,<span class="string">'Minimum smoothness coefficient for Matern kernel'</span>,0,[])
0186                 obj.nuMin=doubleIn;
0187             <span class="keyword">end</span>
0188         <span class="keyword">end</span>
0189         <a name="_sub10" href="#_subfunctions" class="code">function set.nuMax(obj,doubleIn)</a>
0190             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.nuMax,<span class="string">'Maximum smoothness coefficient for Matern kernel'</span>,0,[])
0191                 obj.nuMax=doubleIn;
0192             <span class="keyword">end</span>
0193         <span class="keyword">end</span>
0194         <a name="_sub11" href="#_subfunctions" class="code">function set.pVal(obj,doubleIn)</a>
0195             <span class="keyword">if</span> ~isnan(doubleIn)
0196                 <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.pVal,<span class="string">'Power exponent generalized exponential kernel'</span>,0,[])
0197                     obj.pVal=doubleIn;
0198                 <span class="keyword">end</span>
0199             <span class="keyword">end</span>
0200         <span class="keyword">end</span>
0201         <a name="_sub12" href="#_subfunctions" class="code">function set.nuVal(obj,doubleIn)</a>
0202             <span class="keyword">if</span> ~isnan(doubleIn)
0203                 <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.nuVal,<span class="string">'Smoothness coefficient for Matern kernel function'</span>,0,[])
0204                     obj.nuVal=doubleIn;
0205                 <span class="keyword">end</span>
0206             <span class="keyword">end</span>
0207         <span class="keyword">end</span>
0208         <a name="_sub13" href="#_subfunctions" class="code">function set.polyOrder(obj,doubleIn)</a>
0209             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.polyOrder,<span class="string">'Polynomial order for kriging, xLS'</span>,0,[])
0210                 obj.polyOrder=doubleIn;
0211             <span class="keyword">end</span>
0212         <span class="keyword">end</span>
0213         <a name="_sub14" href="#_subfunctions" class="code">function set.swfPara(obj,doubleIn)</a>
0214             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.swfPara,<span class="string">'SWF parameter'</span>,0,[])
0215                 obj.swfPara=doubleIn;
0216             <span class="keyword">end</span>
0217         <span class="keyword">end</span>
0218         <a name="_sub15" href="#_subfunctions" class="code">function set.e0(obj,doubleIn)</a>
0219             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.e0,<span class="string">'Thickness of the tube (nu-SVR)'</span>,0,[])
0220                 obj.e0=doubleIn;
0221             <span class="keyword">end</span>
0222         <span class="keyword">end</span>
0223         <a name="_sub16" href="#_subfunctions" class="code">function set.ek(obj,doubleIn)</a>
0224             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.ek,<span class="string">'Thickness of the tube (nu-GSVR)'</span>,0,[])
0225                 obj.ek=doubleIn;
0226             <span class="keyword">end</span>
0227         <span class="keyword">end</span>
0228         <a name="_sub17" href="#_subfunctions" class="code">function set.c0(obj,doubleIn)</a>
0229             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.c0,<span class="string">'Constant for trade off (nu-SVR)'</span>,0,[])
0230                 obj.c0=doubleIn;
0231             <span class="keyword">end</span>
0232         <span class="keyword">end</span>
0233         <a name="_sub18" href="#_subfunctions" class="code">function set.ck(obj,doubleIn)</a>
0234             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.ck,<span class="string">'Constant for trade off (nu-GSVR)'</span>,0,[])
0235                 obj.ck=doubleIn;
0236             <span class="keyword">end</span>
0237         <span class="keyword">end</span>
0238         <a name="_sub19" href="#_subfunctions" class="code">function set.nuSVR(obj,doubleIn)</a>
0239             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.nuSVR,<span class="string">'Parameter for nu-SVR'</span>,0,1)
0240                 obj.nuSVR=doubleIn;
0241             <span class="keyword">end</span>
0242         <span class="keyword">end</span>
0243         <a name="_sub20" href="#_subfunctions" class="code">function set.nuGSVR(obj,doubleIn)</a>
0244             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.nuGSVR,<span class="string">'Parameter for nu-GSVR'</span>,0,1)
0245                 obj.nuGSVR=doubleIn;
0246             <span class="keyword">end</span>
0247         <span class="keyword">end</span>
0248         <a name="_sub21" href="#_subfunctions" class="code">function set.estimOn(obj,boolIn)</a>
0249             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0250                 <span class="keyword">if</span> xor(obj.estimOn,boolIn)
0251                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Estimation of the hyperparameters : '</span>);
0252                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0253                 <span class="keyword">end</span>
0254                 obj.estimOn=boolIn;
0255             <span class="keyword">end</span>
0256         <span class="keyword">end</span>
0257         <a name="_sub22" href="#_subfunctions" class="code">function set.aniso(obj,boolIn)</a>
0258             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0259                 <span class="keyword">if</span> xor(obj.aniso,boolIn)
0260                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; anisotropic model : '</span>);
0261                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0262                 <span class="keyword">end</span>
0263                 obj.aniso=boolIn;
0264             <span class="keyword">end</span>
0265         <span class="keyword">end</span>
0266         <a name="_sub23" href="#_subfunctions" class="code">function set.dispEstim(obj,boolIn)</a>
0267             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0268                 <span class="keyword">if</span> xor(obj.dispEstim,boolIn)
0269                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Show estimation process : '</span>);
0270                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0271                 <span class="keyword">end</span>
0272                 obj.dispEstim=boolIn;
0273             <span class="keyword">end</span>
0274         <span class="keyword">end</span>
0275         <a name="_sub24" href="#_subfunctions" class="code">function set.saveEstim(obj,boolIn)</a>
0276             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0277                 <span class="keyword">if</span> xor(obj.saveEstim,boolIn)
0278                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Save function used for finding hyperparameters : '</span>);
0279                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0280                 <span class="keyword">end</span>
0281                 obj.saveEstim=boolIn;
0282             <span class="keyword">end</span>
0283         <span class="keyword">end</span>
0284          <a name="_sub25" href="#_subfunctions" class="code">function set.typeEstim(obj,charIn)</a>
0285             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(charIn,<span class="string">'char'</span>)
0286                 <span class="keyword">if</span> strcmp(obj.typeEstim,charIn)
0287                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Type of criterion used for finding hyperparameters : %s (previous %s)'</span>,charIn,obj.typeEstim);
0288                 <span class="keyword">end</span>
0289                 obj.typeEstim=charIn;
0290             <span class="keyword">end</span>
0291         <span class="keyword">end</span>
0292         <a name="_sub26" href="#_subfunctions" class="code">function set.dispIterGraph(obj,boolIn)</a>
0293             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0294                 <span class="keyword">if</span> xor(obj.dispIterGraph,boolIn)
0295                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Plot iterations estimation process : '</span>);
0296                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0297                 <span class="keyword">end</span>
0298                 obj.dispIterGraph=boolIn;
0299             <span class="keyword">end</span>
0300         <span class="keyword">end</span>
0301         <a name="_sub27" href="#_subfunctions" class="code">function set.dispIterCmd(obj,boolIn)</a>
0302             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0303                 <span class="keyword">if</span> xor(obj.dispIterCmd,boolIn)
0304                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Display iterations in command windows : '</span>);
0305                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0306                 <span class="keyword">end</span>
0307                 obj.dispIterCmd=boolIn;
0308             <span class="keyword">end</span>
0309         <span class="keyword">end</span>
0310         <a name="_sub28" href="#_subfunctions" class="code">function set.dispPlotAlgo(obj,boolIn)</a>
0311             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0312                 <span class="keyword">if</span> xor(obj.dispPlotAlgo,boolIn)
0313                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Plot convergence information on figures : '</span>);
0314                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0315                 <span class="keyword">end</span>
0316                 obj.dispPlotAlgo=boolIn;
0317             <span class="keyword">end</span>
0318         <span class="keyword">end</span>
0319         <a name="_sub29" href="#_subfunctions" class="code">function set.method(obj,charIn)</a>
0320             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(charIn,<span class="string">'char'</span>)
0321                 <span class="keyword">if</span> strcmp(obj.method,charIn)
0322                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Optimizer for estimating hyperparameters : %s (previous %s)'</span>,charIn,obj.method);
0323                 <span class="keyword">end</span>
0324                 obj.method=charIn;
0325             <span class="keyword">end</span>
0326         <span class="keyword">end</span>
0327         <a name="_sub30" href="#_subfunctions" class="code">function set.sampManu(obj,charIn)</a>
0328             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(charIn,<span class="string">'char'</span>)
0329                 <span class="keyword">if</span> strcmp(obj.sampManu,charIn)
0330                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; DOE for initial sampling GA : %s (previous %s)'</span>,charIn,obj.sampManu);
0331                 <span class="keyword">end</span>
0332                 obj.sampManu=charIn;
0333             <span class="keyword">end</span>
0334         <span class="keyword">end</span>
0335         <a name="_sub31" href="#_subfunctions" class="code">function set.sampManuOn(obj,boolIn)</a>
0336             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0337                 <span class="keyword">if</span> xor(obj.sampManuOn,boolIn)
0338                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Plot convergence information on figures : '</span>);
0339                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0340                 <span class="keyword">end</span>
0341                 obj.sampManuOn=boolIn;
0342             <span class="keyword">end</span>
0343         <span class="keyword">end</span>
0344         <a name="_sub32" href="#_subfunctions" class="code">function set.nbSampInit(obj,doubleIn)</a>
0345             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.nbSampInit,<span class="string">'Number of sample points for GA, PSO'</span>,0,[])
0346                 obj.nbSampInit=doubleIn;
0347             <span class="keyword">end</span>
0348         <span class="keyword">end</span>
0349         <a name="_sub33" href="#_subfunctions" class="code">function set.critOpti(obj,doubleIn)</a>
0350             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.critOpti,<span class="string">'Stopping criterion for estimation process'</span>,0,[])
0351                 obj.critOpti=doubleIn;
0352             <span class="keyword">end</span>
0353         <span class="keyword">end</span>
0354         <a name="_sub34" href="#_subfunctions" class="code">function set.kern(obj,charIn)</a>
0355             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(charIn,<span class="string">'char'</span>)
0356                 <span class="keyword">if</span> ismember(charIn,obj.kernAvail)
0357                     <span class="keyword">if</span> strcmp(obj.kern,charIn)
0358                         <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Kernel function : %s (previous %s)'</span>,charIn,obj.kern);
0359                     <span class="keyword">end</span>
0360                     obj.kern=charIn;
0361                 <span class="keyword">else</span>
0362                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' Kernel function %s not available\n'</span>,charIn);
0363                     availableKern(obj);
0364                 <span class="keyword">end</span>
0365             <span class="keyword">end</span>
0366         <span class="keyword">end</span>
0367         <a name="_sub35" href="#_subfunctions" class="code">function set.normOn(obj,boolIn)</a>
0368             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0369                 <span class="keyword">if</span> xor(obj.normOn,boolIn)
0370                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Normalization of the data : '</span>);
0371                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0372                 <span class="keyword">end</span>
0373                 obj.normOn=boolIn;
0374             <span class="keyword">end</span>
0375         <span class="keyword">end</span>
0376         <a name="_sub36" href="#_subfunctions" class="code">function set.recond(obj,boolIn)</a>
0377             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0378                 <span class="keyword">if</span> xor(obj.recond,boolIn)
0379                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Improve condition number of matrices (KRG, RBF...) : '</span>);
0380                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0381                 <span class="keyword">end</span>
0382                 obj.recond=boolIn;
0383             <span class="keyword">end</span>
0384         <span class="keyword">end</span>
0385         <a name="_sub37" href="#_subfunctions" class="code">function set.cvOn(obj,boolIn)</a>
0386             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0387                 <span class="keyword">if</span> xor(obj.cvOn,boolIn)
0388                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Cross-validation : '</span>);
0389                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0390                 <span class="keyword">end</span>
0391                 obj.cvOn=boolIn;
0392             <span class="keyword">end</span>
0393         <span class="keyword">end</span>
0394         <a name="_sub38" href="#_subfunctions" class="code">function set.cvFull(obj,boolIn)</a>
0395             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0396                 <span class="keyword">if</span> xor(obj.cvFull,boolIn)
0397                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; All CV criteria : '</span>);
0398                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0399                 <span class="keyword">end</span>
0400                 obj.cvFull=boolIn;
0401             <span class="keyword">end</span>
0402         <span class="keyword">end</span>
0403         <a name="_sub39" href="#_subfunctions" class="code">function set.cvDisp(obj,boolIn)</a>
0404             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0405                 <span class="keyword">if</span> xor(obj.cvDisp,boolIn)
0406                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Display QQ plot CV : '</span>);
0407                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0408                 <span class="keyword">end</span>
0409                 obj.cvDisp=boolIn;
0410             <span class="keyword">end</span>
0411         <span class="keyword">end</span>
0412         
0413         <a name="_sub40" href="#_subfunctions" class="code">function set.infillOn(obj,boolIn)</a>
0414             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0415                 <span class="keyword">if</span> xor(obj.infillOn,boolIn)
0416                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Computation of the infill criterion : '</span>);
0417                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0418                 <span class="keyword">end</span>
0419                 obj.infillOn=boolIn;
0420             <span class="keyword">end</span>
0421         <span class="keyword">end</span>
0422         <a name="_sub41" href="#_subfunctions" class="code">function set.infillCrit(obj,charIn)</a>
0423             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(charIn,<span class="string">'char'</span>)
0424                 <span class="keyword">if</span> strcmp(obj.infillCrit,charIn)
0425                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Infill criterion : %s (previous %s)'</span>,charIn,obj.kern);
0426                 <span class="keyword">end</span>
0427                 obj.infillCrit=charIn;
0428             <span class="keyword">end</span>
0429         <span class="keyword">end</span>
0430         <a name="_sub42" href="#_subfunctions" class="code">function set.infillParaWEI(obj,doubleIn)</a>
0431             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.infillParaWEI,<span class="string">'Parameter for Weighted EI'</span>,0,1)
0432                 obj.infillParaWEI=doubleIn;
0433             <span class="keyword">end</span>
0434         <span class="keyword">end</span>
0435         <a name="_sub43" href="#_subfunctions" class="code">function set.infillParaGEI(obj,doubleIn)</a>
0436             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.infillParaGEI,<span class="string">'Parameter for Generalized EI'</span>,0,[])
0437                 obj.infillParaGEI=doubleIn;
0438             <span class="keyword">end</span>
0439         <span class="keyword">end</span>
0440         <a name="_sub44" href="#_subfunctions" class="code">function set.infillParaLCB(obj,doubleIn)</a>
0441             <span class="keyword">if</span> <a href="#_sub61" class="code" title="subfunction okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)">checkDouble</a>(doubleIn,obj.infillParaLCB,<span class="string">'Parameter for Lower Confidence Bound'</span>,0,[])
0442                 obj.infillParaLCB=doubleIn;
0443             <span class="keyword">end</span>
0444         <span class="keyword">end</span>
0445         <a name="_sub45" href="#_subfunctions" class="code">function set.checkInterp(obj,boolIn)</a>
0446             <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(boolIn,<span class="string">'logical'</span>)
0447                 <span class="keyword">if</span> xor(obj.checkInterp,boolIn)
0448                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; Check interpolation property : '</span>);
0449                     <a href="#_sub62" class="code" title="subfunction SwitchOnOff(boolIn)">SwitchOnOff</a>(boolIn);
0450                 <span class="keyword">end</span>
0451                 obj.checkInterp=boolIn;
0452             <span class="keyword">end</span>
0453         <span class="keyword">end</span>
0454         
0455         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0456         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0457         <span class="comment">%list available techniques</span>
0458         <a name="_sub46" href="#_subfunctions" class="code">function availableType(obj)</a>
0459             <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=\n'</span>);
0460             <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'Available techniques for surrogate models\n'</span>);
0461             <a href="#_sub59" class="code" title="subfunction dispTableTwoColumns(tableA,tableB)">dispTableTwoColumns</a>(obj.typeAvail,obj.typeTxt);
0462             <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=\n'</span>);
0463         <span class="keyword">end</span>
0464         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0465         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0466         <span class="comment">%list available kernel function</span>
0467         <a name="_sub47" href="#_subfunctions" class="code">function availableKernel(obj)</a>
0468             <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=\n'</span>);
0469             <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'Available kernel functions for surrogate models\n'</span>);
0470             <a href="#_sub59" class="code" title="subfunction dispTableTwoColumns(tableA,tableB)">dispTableTwoColumns</a>(obj.typeAvail,obj.typeTxt);
0471             <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=\n'</span>);
0472         <span class="keyword">end</span>
0473         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0474         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0475         <span class="comment">%function for defining parameters</span>
0476         <a name="_sub48" href="#_subfunctions" class="code">function definePara(obj,paraIn)</a>
0477             paraOk=false;
0478             <span class="keyword">if</span> ~isempty(paraIn)
0479                 <span class="keyword">if</span> isa(paraIn,<span class="string">'struct'</span>)
0480                     obj.lVal=paraIn.l.Val;
0481                     obj.lMin=paraIn.l.Min;
0482                     obj.lMax=paraIn.l.Max;
0483                     obj.pVal=paraIn.p.Val;
0484                     obj.pMin=paraIn.p.Min;
0485                     obj.pMax=paraIn.p.Max;
0486                     obj.nuVal=paraIn.nu.Val;
0487                     obj.nuMin=paraIn.nu.Min;
0488                     obj.nuMax=paraIn.nu.Max;
0489                     obj.stepTaylor=paraIn.stepTaylor;
0490                     obj.polyOrder=paraIn.polyOrder;
0491                     obj.swfPara=paraIn.swfPara;
0492                     obj.e0=paraIn.e0;
0493                     obj.ek =paraIn.ek;
0494                     obj.c0=paraIn.c0;
0495                     obj.ck=paraIn.ck;
0496                     obj.nuSVR=paraIn.nuSVR;
0497                     obj.nuGSVR=paraIn.nuGSVR;
0498                     paraOk=true;
0499                     <span class="comment">%update structure of parameters</span>
0500                     obj.updatePara;
0501                 <span class="keyword">end</span>
0502             <span class="keyword">end</span>
0503             <span class="keyword">if</span> ~paraOk
0504                 <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'Wrong structure used for declaraing parameters\n'</span>)
0505             <span class="keyword">end</span>
0506         <span class="keyword">end</span>
0507         
0508         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0509         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0510         <span class="comment">%update para struct</span>
0511         <a name="_sub49" href="#_subfunctions" class="code">function updatePara(obj)</a>
0512             obj.para.l.Val=obj.lVal;
0513             obj.para.l.Min=obj.lMin;
0514             obj.para.l.Max=obj.lMax;
0515             obj.para.p.Val=obj.pVal;
0516             obj.para.p.Min=obj.pMin;
0517             obj.para.p.Max=obj.pMax;
0518             obj.para.nu.Val=obj.nuVal;
0519             obj.para.nu.Min=obj.nuMin;
0520             obj.para.nu.Max=obj.nuMax;
0521             obj.para.stepTaylor=obj.stepTaylor;
0522             obj.para.polyOrder=obj.polyOrder;
0523             obj.para.swfPara=obj.swfPara;
0524             obj.para.e0=obj.e0;
0525             obj.para.ek=obj.ek;
0526             obj.para.c0=obj.c0;
0527             obj.para.ck=obj.ck;
0528             obj.para.nuSVR=obj.nuSVR;
0529             obj.para.nuGSVR=obj.nuGSVR;
0530         <span class="keyword">end</span>
0531         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0532         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0533         <span class="comment">%update infill struct</span>
0534         <a name="_sub50" href="#_subfunctions" class="code">function updateInfill(obj)</a>
0535             obj.infill.on=obj.infillOn;
0536             obj.infill.crit=obj.infillCrit;
0537             obj.infill.wei=obj.infillParaWEI;
0538             obj.infill.gei=obj.infillParaGEI;
0539             obj.infill.lcb=obj.infillParaLCB;
0540         <span class="keyword">end</span>
0541         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0542         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0543         <span class="comment">%update estimation struct</span>
0544         <a name="_sub51" href="#_subfunctions" class="code">function updateEstim(obj)</a>
0545             obj.estim.on=obj.estimOn;
0546             obj.estim.aniso=obj.aniso;
0547             obj.estim.disp=obj.dispEstim;
0548             obj.estim.save=obj.saveEstim;
0549             obj.estim.type=obj.typeEstim;
0550             obj.estim.dispIterGraph=obj.dispIterGraph;
0551             obj.estim.dispIterCmd=obj.dispIterCmd;
0552             obj.estim.dispPlotAlgo=obj.dispPlotAlgo;
0553             obj.estim.method=obj.method;
0554             obj.estim.sampManuOn=obj.sampManuOn;
0555             obj.estim.sampManu=obj.sampManu;
0556             obj.estim.nbSampInit=obj.nbSampInit;
0557             obj.estim.critOpti=obj.critOpti;
0558         <span class="keyword">end</span>
0559         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0560         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0561         <span class="comment">%update cross-validation struct</span>
0562         <a name="_sub52" href="#_subfunctions" class="code">function updateCV(obj)</a>
0563             obj.cv.on=obj.cvOn;
0564             obj.cv.full=obj.cvFull;
0565             obj.cv.disp=obj.cvDisp;
0566         <span class="keyword">end</span>
0567         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0568         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0569         <span class="comment">%update all structs</span>
0570         <a name="_sub53" href="#_subfunctions" class="code">function updateAllStruct(obj,~,~)</a>
0571             <a href="#_sub50" class="code" title="subfunction updatePara(obj)">updatePara</a>(obj);
0572             <a href="#_sub51" class="code" title="subfunction updateInfill(obj)">updateInfill</a>(obj);
0573             <a href="#_sub52" class="code" title="subfunction updateEstim(obj)">updateEstim</a>(obj);
0574             <a href="#_sub53" class="code" title="subfunction updateCV(obj)">updateCV</a>(obj);
0575         <span class="keyword">end</span>
0576         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0577         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0578         <span class="comment">%define properties</span>
0579         <a name="_sub54" href="#_subfunctions" class="code">function conf(obj,varargin)</a>
0580             <span class="comment">%list properties</span>
0581             listProp=properties(obj);
0582             okConf=false;
0583             <span class="comment">%if a input variable is specifiec</span>
0584             <span class="keyword">if</span> nargin&gt;2
0585                 <span class="comment">%if the number of input argument is even</span>
0586                 <span class="keyword">if</span>  mod(nargin-1,2)==0
0587                     <span class="comment">%along the argument</span>
0588                     <span class="keyword">for</span> itV=1:2:nargin-1
0589                         <span class="comment">%extract keyword and associated value</span>
0590                         keyW=varargin{itV};
0591                         keyV=varargin{itV+1};
0592                         <span class="comment">%if the first argument is a string</span>
0593                         <span class="keyword">if</span> isa(varargin{1},<span class="string">'char'</span>)
0594                             <span class="comment">%check if the keyword is acceptable</span>
0595                             <span class="keyword">if</span> ismember(keyW,listProp)
0596                                 okConf=true;
0597                                 obj.(keyW)=keyV;
0598                             <span class="keyword">else</span>
0599                                 <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'&gt;&gt; Wrong keyword %s\n'</span>,keyW);
0600                             <span class="keyword">end</span>
0601                         <span class="keyword">end</span>
0602                     <span class="keyword">end</span>
0603                 <span class="keyword">end</span>
0604                 <span class="keyword">if</span> ~okConf
0605                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'\nWrong syntax used for conf method\n'</span>);
0606                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'use: conf(''key1'',val1,''key2'',val2...)\n'</span>);
0607                     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'\nList of the avilable keywords:\n'</span>);
0608                     <a href="#_sub58" class="code" title="subfunction dispTableTwoColumnsStruct(tableFiedIn,structIn)">dispTableTwoColumnsStruct</a>(listProp,obj.infoProp);
0609                 <span class="keyword">end</span>
0610             <span class="keyword">else</span>
0611                 <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'Current configuration\n'</span>);
0612                 disp(obj);
0613             <span class="keyword">end</span>
0614         <span class="keyword">end</span>
0615         <span class="comment">%overload isfield</span>
0616         <a name="_sub55" href="#_subfunctions" class="code">function isF=isfield(obj,field)</a>
0617             isF=isprop(obj,field);
0618         <span class="keyword">end</span>
0619     <span class="keyword">end</span>
0620 <span class="keyword">end</span>
0621 
0622 
0623 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0624 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0625 <span class="comment">%function for declaring the purpose of each properties</span>
0626 <a name="_sub56" href="#_subfunctions" class="code">function info=affectTxtProp()</a>
0627 info.useGrad=<span class="string">'Taking into account gradients'</span>;
0628 info.type=<span class="string">'type of surrogate model'</span>;
0629 info.para=<span class="string">'struct for storing choice of parameters'</span>;
0630 info.stepTaylor=<span class="string">'Taylor''s step for indirect gradient-based'</span>;
0631 info.lVal=<span class="string">'Nominal internal length (correlation length)'</span>;
0632 info.pVal=<span class="string">'Nominal power exponent for generalized exponential kernel function'</span>;
0633 info.nuVal=<span class="string">'Nominal smoothness coefficient for Matern kernel function'</span>;
0634 info.lMin=<span class="string">'Minimum internal length (correlation length)'</span>;
0635 info.lMax=<span class="string">'Maximum internal length (correlation length)'</span>;
0636 info.pMax=<span class="string">'Maximum power exponent for generalized exponential kernel function'</span>;
0637 info.pMin=<span class="string">'Minimum power exponent for generalized exponential kernel function'</span>;
0638 info.nuMin=<span class="string">'Minimum smoothness coefficient for Matern kernel function'</span>;
0639 info.nuMax=<span class="string">'Maximum smoothness coefficient for Matern kernel function'</span>;
0640 info.polyOrder=<span class="string">'Polynomial order for kriging, xLS'</span>;
0641 info.swfPara=<span class="string">'Swf parameter'</span>;
0642 info.e0=<span class="string">'Thickness of the tube (not used for nu-SVR)'</span>;
0643 info.ek=<span class="string">'Thickness of the tube of gradient (not used for nu-SVR)'</span>;
0644 info.c0=<span class="string">'Constant for trade off between flatness and deviations (SVR)'</span>;
0645 info.ck=<span class="string">'Same trade off constant as before'</span>;
0646 info.nuSVR=<span class="string">'Parameter of the nu-SVR (nu in [0,1])'</span>;
0647 info.nuGSVR=<span class="string">'Parameter of the nu-GSVR (nu in [0,1])'</span>;
0648 info.estim=<span class="string">'Struct for storing estimation parameters'</span>;
0649 info.estimOn=<span class="string">'Seek for best values of the internal parameters'</span>;
0650 info.aniso=<span class="string">'Anisotropic model (one internal length per variable)'</span>;
0651 info.dispEstim=<span class="string">'Display objective function to be minimised'</span>;
0652 info.saveEstim=<span class="string">'Save evolution function to be minimized'</span>;
0653 info.typeEstim=<span class="string">'Type of criterion used for estimated the parameters (logli or cv)'</span>;
0654 info.dispIterGraph=<span class="string">'Display iterations of the optimisation process on a figure (1D/2D)'</span>;
0655 info.dispIterCmd=<span class="string">'Display iteration in the console'</span>;
0656 info.dispPlotAlgo=<span class="string">'Display convergence information on figures'</span>;
0657 info.method=<span class="string">'Optimizer used for finding internal parameter'</span>;
0658 info.sampManuOn=<span class="string">'Initial sampling or not'</span>;
0659 info.sampManu=<span class="string">'Method used for the initial sampling for GA ('''', ''LHS'',''IHS''...)'</span>;
0660 info.nbSampInit=<span class="string">'Number of sample points of the initial sampling for GA'</span>;
0661 info.critOpti=<span class="string">'Value of the stopping criterion of the optimizer'</span>;
0662 info.kern=<span class="string">'Kernel function'</span>;
0663 info.normOn=<span class="string">'Normalization'</span>;
0664 info.recond=<span class="string">'Improve condition number of matrix (kriging, RBF, SVR...)'</span>;
0665 info.cv=<span class="string">'Struct for storing infillment parameters'</span>;
0666 info.cvOn=<span class="string">'Cross-validation'</span>;
0667 info.cvFull=<span class="string">'Compute all CV criteria'</span>;
0668 info.cvDisp=<span class="string">'Display QQ plot CV'</span>;
0669 info.infill=<span class="string">'Struct for storing infillment parameters'</span>;
0670 info.infillOn=<span class="string">'Activate/desactivate computation of the infill criterion'</span>;
0671 info.infillCrit=<span class="string">'Infill criterion'</span>;
0672 info.infillParaWEI=<span class="string">'Parameters for Weighted Expected Improvement'</span>;
0673 info.infillParaGEI=<span class="string">'Parameters for Generalized Expected Improvement'</span>;
0674 info.infillParaLCB=<span class="string">'Parameters for Lower Confidence Bound'</span>;
0675 info.checkInterp=<span class="string">'Activate/deactivate the checking of the interpolation property'</span>;
0676 <span class="keyword">end</span>
0677 
0678 <span class="comment">%function display table with two columns of text</span>
0679 <a name="_sub57" href="#_subfunctions" class="code">function dispTableTwoColumnsStruct(tableFiedIn,structIn)</a>
0680 <span class="comment">%size of every components in tableA</span>
0681 sizeA=cellfun(@numel,tableFiedIn);
0682 maxA=max(sizeA);
0683 <span class="comment">%space after each component</span>
0684 spaceA=maxA-sizeA+3;
0685 spaceTxt=<span class="string">' '</span>;
0686 <span class="comment">%display table</span>
0687 <span class="keyword">for</span> itT=1:numel(tableFiedIn)
0688     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'%s%s%s\n'</span>,tableFiedIn{itT},spaceTxt(ones(1,spaceA(itT))),structIn.(tableFiedIn{itT}));
0689 <span class="keyword">end</span>
0690 <span class="keyword">end</span>
0691 
0692 <span class="comment">%function display table with two columns of text</span>
0693 <a name="_sub58" href="#_subfunctions" class="code">function dispTableTwoColumns(tableA,tableB)</a>
0694 <span class="comment">%size of every components in tableA</span>
0695 sizeA=cellfun(@numel,tableA);
0696 maxA=max(sizeA);
0697 <span class="comment">%space after each component</span>
0698 spaceA=maxA-sizeA+3;
0699 spaceTxt=<span class="string">' '</span>;
0700 <span class="comment">%display table</span>
0701 <span class="keyword">for</span> itT=1:numel(tableA)
0702     <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'%s%s%s\n'</span>,tableA{itT},spaceTxt(ones(1,spaceA(itT))),tableB{itT});
0703 <span class="keyword">end</span>
0704 <span class="keyword">end</span>
0705 
0706 <span class="comment">%function for checking type a variable and display error message</span>
0707 <a name="_sub59" href="#_subfunctions" class="code">function okG=isG(varIn,typeIn)</a>
0708 okG=isa(varIn,typeIn);
0709 <span class="keyword">if</span> ~okG;<a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' Wrong input variable. Required: %s (current: %s)\n'</span>,typeIn,class(varIn));<span class="keyword">end</span>
0710 <span class="keyword">end</span>
0711 
0712 <span class="comment">%function for checking 'double' input of a setter function (with bound</span>
0713 <a name="_sub60" href="#_subfunctions" class="code">function okCD=checkDouble(varIn,varOld,TxtIn,lB,uB)</a>
0714 okCD=false;
0715 oklB=true;
0716 okuB=true;
0717 <span class="comment">%check if it is a double</span>
0718 <span class="keyword">if</span> <a href="#_sub60" class="code" title="subfunction okG=isG(varIn,typeIn)">isG</a>(varIn,<span class="string">'double'</span>)
0719     <span class="comment">%check for different size of the previous and new values</span>
0720     checkS=false;
0721     <span class="keyword">if</span> numel(varOld)==1||numel(varIn)==1
0722         checkS=all(varOld~=varIn);
0723     <span class="keyword">else</span>
0724         <span class="keyword">if</span> all(size(varOld)==size(varIn))
0725             checkS=all(varOld~=varIn);
0726         <span class="keyword">end</span>
0727     <span class="keyword">end</span>
0728     <span class="keyword">if</span> checkS
0729         <span class="comment">%check if the bounds are respected</span>
0730         <span class="keyword">if</span> ~isempty(lB)
0731             oklB=all(varIn&gt;=lB);
0732         <span class="keyword">end</span>
0733         <span class="keyword">if</span> ~isempty(uB)
0734             okuB=all(varIn&lt;=uB);
0735         <span class="keyword">end</span>
0736         <span class="keyword">if</span> ~oklB||~okuB
0737             <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; %s: Wrong variable'</span>,TxtIn);
0738             <span class="keyword">if</span> ~isempty(lB)
0739                 <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'Lower bound:'</span>);fprintf(<span class="string">' %d'</span>,lB);fprintf(<span class="string">'\n'</span>);
0740             <span class="keyword">end</span>
0741             <span class="keyword">if</span> ~isempty(uB)
0742                 <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'Upper bound:'</span>);fprintf(<span class="string">' %d'</span>,uB);fprintf(<span class="string">'\n'</span>);
0743             <span class="keyword">end</span>
0744             <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'Proposed value:'</span>);fprintf(<span class="string">' %d'</span>,varIn);fprintf(<span class="string">'\n'</span>);
0745         <span class="keyword">else</span>
0746             <a href="../../../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' &gt;&gt;&gt; %s : ['</span>,TxtIn);
0747             fprintf(<span class="string">'%i '</span>,varIn);fprintf(<span class="string">'] '</span>);
0748             fprintf(<span class="string">'(previous ['</span>);fprintf(<span class="string">'%d '</span>,varOld);fprintf(<span class="string">'])\n'</span>);
0749             okCD=true;
0750         <span class="keyword">end</span>
0751     <span class="keyword">end</span>
0752 <span class="keyword">end</span>
0753 <span class="keyword">end</span>
0754 
0755 <span class="comment">%display change of state</span>
0756 <a name="_sub61" href="#_subfunctions" class="code">function SwitchOnOff(boolIn)</a>
0757 <span class="keyword">if</span> boolIn;
0758     fprintf(<span class="string">' On (previous Off)\n'</span>);
0759 <span class="keyword">else</span>
0760     fprintf(<span class="string">' Off (previous On)\n'</span>);
0761 <span class="keyword">end</span>
0762 <span class="keyword">end</span>
0763 
0764 <span class="comment">%function for finding properties with specific attribute</span>
0765 <a name="_sub62" href="#_subfunctions" class="code">function cl_out = findAttrValue(obj,attrName,varargin)</a>
0766 <span class="keyword">if</span> ischar(obj)
0767     mc = meta.class.fromName(obj);
0768 <span class="keyword">elseif</span> isobject(obj)
0769     mc = metaclass(obj);
0770 <span class="keyword">end</span>
0771 ii = 0; numb_props = length(mc.PropertyList);
0772 cl_array = cell(1,numb_props);
0773 <span class="keyword">for</span>  c = 1:numb_props
0774     mp = mc.PropertyList(c);
0775     <span class="keyword">if</span> isempty (findprop(mp,attrName))
0776         error(<span class="string">'Not a valid attribute name'</span>)
0777     <span class="keyword">end</span>
0778     attrValue = mp.(attrName);
0779     <span class="keyword">if</span> attrValue
0780         <span class="keyword">if</span> islogical(attrValue) || strcmp(varargin{1},attrValue)
0781             ii = ii + 1;
0782             cl_array(ii) = {mp.Name};
0783         <span class="keyword">end</span>
0784     <span class="keyword">end</span>
0785 <span class="keyword">end</span>
0786 cl_out = cl_array(1:ii);
0787 <span class="keyword">end</span>
0788 
0789 <span class="comment">% function meta=initMeta(in,parallelOn)</span>
0790 <span class="comment">%</span>
0791 <span class="comment">%</span>
0792 <span class="comment">%</span>
0793 <span class="comment">% %%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0794 <span class="comment">% %% chargement configuration particuliere</span>
0795 <span class="comment">% if nargin==0</span>
0796 <span class="comment">%     in=[];</span>
0797 <span class="comment">% end</span>
0798 <span class="comment">% %taking gradients into account</span>
0799 <span class="comment">% if isfield(in,'useGrad');meta.useGrad=in.useGrad;end</span>
0800 <span class="comment">% %type of surrgate model KRG/GKRG/DACE/RBF/GRBF/SVR/GSVR...</span>
0801 <span class="comment">% if isfield(in,'type');meta.type=in.type;end</span>
0802 <span class="comment">% %parameter of the kernel function</span>
0803 <span class="comment">% if isfield(in,'para')</span>
0804 <span class="comment">%     if isfield(in.para,'long');meta.para.l.val=in.para.long;end</span>
0805 <span class="comment">%     if meta.para.estim</span>
0806 <span class="comment">%         if isfield(in,'long');</span>
0807 <span class="comment">%             meta.para.l.max=in.para.long(2);</span>
0808 <span class="comment">%             meta.para.l.min=in.para.long(1);</span>
0809 <span class="comment">%         end</span>
0810 <span class="comment">%     end</span>
0811 <span class="comment">%     if isfield(in.para,'pow');meta.para.p.val=in.para.pow;end</span>
0812 <span class="comment">%     if meta.para.estim</span>
0813 <span class="comment">%         if isfield(in,'pow');</span>
0814 <span class="comment">%             meta.para.p.max=in.para.pow(2);</span>
0815 <span class="comment">%             meta.para.p.min=in.para.pow(1);</span>
0816 <span class="comment">%         end</span>
0817 <span class="comment">%     end</span>
0818 <span class="comment">%     if isfield(in.para,'nu');meta.para.nu.val=in.para.nu;end</span>
0819 <span class="comment">%     if meta.para.estim</span>
0820 <span class="comment">%         if isfield(in,'nu');</span>
0821 <span class="comment">%             meta.para.nu.max=in.para.nu(2);</span>
0822 <span class="comment">%             meta.para.nu.min=in.para.nu(1);</span>
0823 <span class="comment">%         end</span>
0824 <span class="comment">%     end</span>
0825 <span class="comment">% end</span>
0826 <span class="comment">%</span>
0827 <span class="comment">% %%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0828 <span class="comment">% %% depending on the type of surrogate model</span>
0829 <span class="comment">% switch meta.type</span>
0830 <span class="comment">%     case 'SWF'</span>
0831 <span class="comment">%         if isfield(in,'swf_para');meta.swf_para=in.swf_para;else meta.swf_para=swf_para;end</span>
0832 <span class="comment">%     case 'DACE'</span>
0833 <span class="comment">%         fctp='regpoly';</span>
0834 <span class="comment">%         %regression function</span>
0835 <span class="comment">%         if isfield(in,'polyOrder');meta.regr=[fctp num2str(in.polyOrder,'%d')];else meta.regr=[fctp num2str(meta.polyOrder,'%d')];end</span>
0836 <span class="comment">%         %correlation function</span>
0837 <span class="comment">%         if isfield(in,'corr');meta.corr=['corr' in.corr];else meta.corr=corr;end</span>
0838 <span class="comment">%     case {'RBF','GRBF','InRBF'}</span>
0839 <span class="comment">%         if isfield(in,'kern');meta.kern=in.kern;end</span>
0840 <span class="comment">%     case {'KRG','GKRG','InKRG','SVR','GSVR'}</span>
0841 <span class="comment">%         %order of the polynomial basis used for regression</span>
0842 <span class="comment">%         if isfield(in,'polyOrder');meta.polyOrder=in.polyOrder;end;</span>
0843 <span class="comment">%         %kernel function</span>
0844 <span class="comment">%         if isfield(in,'kern');meta.kern=in.kern;end</span>
0845 <span class="comment">%</span>
0846 <span class="comment">%     otherwise</span>
0847 <span class="comment">% end</span>
0848 <span class="comment">%</span>
0849 <span class="comment">% %%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0850 <span class="comment">% %normalisation</span>
0851 <span class="comment">% if isfield(in,'normOn');meta.normOn=in.normOn;end</span>
0852 <span class="comment">% %improve condition number of the matrix</span>
0853 <span class="comment">% if isfield(in,'recond');meta.recond=in.recond;end</span>
0854 <span class="comment">% %cross-validation</span>
0855 <span class="comment">% if isfield(in,'cv');meta.cv=in.cv;end</span>
0856 <span class="comment">%</span>
0857 <span class="comment">% %%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0858 <span class="comment">% %% estimation parametre long (longueur de correlation)</span>
0859 <span class="comment">% if isfield(in,'para');</span>
0860 <span class="comment">%     % seek for best values of the internal parameters</span>
0861 <span class="comment">%     if isfield(in.para,'estim');meta.para.estim=in.para.estim;end</span>
0862 <span class="comment">%     % anisotropic model (one internal length per variable)</span>
0863 <span class="comment">%     if isfield(in.para,'aniso');meta.para.aniso=in.para.aniso;end</span>
0864 <span class="comment">%     % display objective function to be minimised</span>
0865 <span class="comment">%     if isfield(in.para,'dispEstim');meta.para.dispEstim=in.para.dispEstim;end</span>
0866 <span class="comment">%     % display iterations of the optimisation process on a figure (1D/2D)</span>
0867 <span class="comment">%     if isfield(in.para,'dispIterGraph');meta.para.dispIterGraph=in.para.dispIterGraph;end</span>
0868 <span class="comment">%     % display iteration in the console</span>
0869 <span class="comment">%     if isfield(in.para,'dispIterCmd');meta.para.dispIterCmd=in.para.dispIterCmd;end</span>
0870 <span class="comment">%     % display convergence information on figures</span>
0871 <span class="comment">%     if isfield(in.para,'dispPlotAlgo');meta.para.dispPlotAlgo=in.para.dispPlotAlgo;end</span>
0872 <span class="comment">%     % optimizer used for finding internal parameter</span>
0873 <span class="comment">%     if isfield(in.para,'method');meta.para.method=in.para.method;end</span>
0874 <span class="comment">%     % method used for the initial sampling for GA ('', 'LHS','IHS'...)</span>
0875 <span class="comment">%     if isfield(in.para,'popManu');meta.para.popManu=in.para.popManu;end</span>
0876 <span class="comment">%     % number of sample points of the initial sampling for GA</span>
0877 <span class="comment">%     if isfield(in.para,'norpopInitm');meta.para.popInit=in.para.popInit;end</span>
0878 <span class="comment">%     % Value of the stopping criterion of the optimizer</span>
0879 <span class="comment">%     if isfield(in.para,'critOpti');meta.para.critOpti=in.para.critOpti;end</span>
0880 <span class="comment">%     if meta.para.estim</span>
0881 <span class="comment">%         if isfield(in.para,'long');</span>
0882 <span class="comment">%             meta.para.l.max=in.para.long(2);</span>
0883 <span class="comment">%             meta.para.l.min=in.para.long(1);</span>
0884 <span class="comment">%         end</span>
0885 <span class="comment">%     end</span>
0886 <span class="comment">% end</span>
0887 <span class="comment">%</span>
0888 <span class="comment">% %%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0889 <span class="comment">% %% infill strategy</span>
0890 <span class="comment">% if isfield(in,'infill');</span>
0891 <span class="comment">%     if isfield(in.infill,'on');meta.infill.on=in.infill.on;end</span>
0892 <span class="comment">%     if isfield(in.infill,'para_wei');meta.infill.para_wei=in.infill.para_wei;end</span>
0893 <span class="comment">%     if isfield(in.infill,'para_gei');meta.infill.para_gei=in.infill.para_gei;end</span>
0894 <span class="comment">%     if isfield(in.infill,'para_lcb');meta.infill.para_lcb=in.infill.para_lcb;end</span>
0895 <span class="comment">%</span>
0896 <span class="comment">%     % check interpolation</span>
0897 <span class="comment">%     if isfield(in,'check');meta.check=in.check;end</span>
0898 <span class="comment">% end</span>
0899 
0900</pre></div>
<hr><address>Generated on Fri 18-Aug-2017 00:34:12 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>