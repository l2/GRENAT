<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of EXEMPLE_UTILISATION_DOE</title>
  <meta name="keywords" content="EXEMPLE_UTILISATION_DOE">
  <meta name="description" content="Exemple d'utilisation de la Toolbox GRENAT couplee avec LMTir">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- menu.html GRENAT -->
<h1>EXEMPLE_UTILISATION_DOE
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>Exemple d'utilisation de la Toolbox GRENAT couplee avec LMTir</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Exemple d'utilisation de la Toolbox GRENAT couplee avec LMTir
 L. LAURENT -- 30/01/2014 -- laurent@lmt.ens-cachan.fr</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="init_rep_GRENAT.html" class="code" title="function doss=init_rep_GRENAT(chemin,other)">init_rep_GRENAT</a>	%initialisation des chemins de fichiers</li><li><a href="../GRENAT/routines/aff/aff_date.html" class="code" title="">aff_date</a>	Affichage de la date et/ou de l'heure</li><li><a href="../GRENAT/routines/aff/affichage.html" class="code" title="function fig_handle=affichage(grille,Z,tirages,eval,grad,aff)">affichage</a>	%fonction realisant l'affichage des surfaces de reponse</li><li><a href="../GRENAT/routines/aff/affichage_ic.html" class="code" title="function affichage_ic(X,ic,aff,Z)">affichage_ic</a>	% Affichage des intervalles de confiance</li><li><a href="../GRENAT/routines/crit/const_ic.html" class="code" title="function [ic68,ic95,ic99]=const_ic(ZZ,var)">const_ic</a>	fonction permettant la construction des intervalles de confiance</li><li><a href="../GRENAT/routines/crit/crit_err.html" class="code" title="function [err,errV,errNAME]=crit_err(Zap,Zref,donnees)">crit_err</a>	% Calcul des criteres d'erreur et affichage</li><li><a href="../GRENAT/routines/divers/clean.html" class="code" title="function clean">clean</a>	% Fonction assurant l'effacement de toutes les grandeurs et la fermeture des fenetres ouvertes</li><li><a href="../GRENAT/routines/divers/exec_parallel.html" class="code" title="function [ret]=exec_parallel(statut,options)">exec_parallel</a>	% Script de lancement et d'arret des workers (parrallelisme)</li><li><a href="../GRENAT/routines/divers/gene_aff.html" class="code" title="function [XY,aff]=gene_aff(doe,aff)">gene_aff</a>	% Generation de l'espace de trace de la fonction 2D</li><li><a href="../GRENAT/routines/divers/gene_eval.html" class="code" title="function [eval,grad]=gene_eval(fct,X,type)">gene_eval</a>	%Evaluation de la fonction et de ses gradients</li><li><a href="../GRENAT/routines/divers/gene_nbele.html" class="code" title="function nb_ele=gene_nbele(dim)">gene_nbele</a>	% Fvonction assurant le calcul/la determination du nombre de points pour d�terminer la grille du metamodele (pour affichage ou v�rification)</li><li><a href="../GRENAT/routines/divers/mesu_time.html" class="code" title="function [tictoc_compt,tInit]=mesu_time(compteur,tps_init)">mesu_time</a>	% Fonction assurant l'initialisation et l'affichage des infos temporelles dans les fonctions</li><li><a href="../GRENAT/routines/init/init_aff.html" class="code" title="function aff_def=init_aff()">init_aff</a>	% Initialisation des variables d'affichage</li><li><a href="../GRENAT/routines/init/init_meta.html" class="code" title="function meta=init_meta(in)">init_meta</a>	% Initialisation du metamodele</li><li><a href="../GRENAT/routines/meta/const_meta.html" class="code" title="function [ret]=const_meta(tirages,eval,grad_in,meta,num_fct)">const_meta</a>	% fonction assurant la construction du metamodele (pas son evaluation)</li><li><a href="../GRENAT/routines/meta/eval_meta.html" class="code" title="function [Z]=eval_meta(points,donnees,meta,verb)">eval_meta</a>	% Evaluation du metamodele</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">% Exemple d'utilisation de la Toolbox GRENAT couplee avec LMTir</span>
0002 <span class="comment">% L. LAURENT -- 30/01/2014 -- laurent@lmt.ens-cachan.fr</span>
0003 
0004 <a href="init_rep_GRENAT.html" class="code" title="function doss=init_rep_GRENAT(chemin,other)">init_rep_GRENAT</a>([],<span class="string">'LMTir'</span>);
0005 <a href="../GRENAT/routines/divers/clean.html" class="code" title="function clean">clean</a>;
0006 
0007 <span class="comment">%affichage de la date</span>
0008 <a href="../GRENAT/routines/aff/aff_date.html" class="code" title="">aff_date</a>;
0009 
0010 <span class="comment">%initialisation des variables d'affichage</span>
0011 <span class="keyword">global</span> aff
0012 aff=<a href="../GRENAT/routines/init/init_aff.html" class="code" title="function aff_def=init_aff()">init_aff</a>();
0013 
0014 fprintf(<span class="string">'=========================================\n'</span>)
0015 fprintf(<span class="string">'  &gt;&gt;&gt; PROCEDURE ETUDE METAMODELES  &lt;&lt;&lt;\n'</span>);
0016 [tMesu,tInit]=<a href="../GRENAT/routines/divers/mesu_time.html" class="code" title="function [tictoc_compt,tInit]=mesu_time(compteur,tps_init)">mesu_time</a>;
0017 
0018 <span class="comment">%execution parallele (option et lancement des workers)</span>
0019 parallel.on=false;
0020 parallel.workers=<span class="string">'auto'</span>;
0021 <a href="../GRENAT/routines/divers/exec_parallel.html" class="code" title="function [ret]=exec_parallel(statut,options)">exec_parallel</a>(<span class="string">'start'</span>,parallel);
0022 
0023 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0024 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0025 <span class="comment">%fonction etudiee</span>
0026 fct=<span class="string">'mystery'</span>;
0027 <span class="comment">%beale(2),bohachevky1/2/3(2),booth(2),branin(2),coleville(4)</span>
0028 <span class="comment">%dixon(n),gold(2),michalewicz(n),mystery(2),peaks(2),rosenbrock(n)</span>
0029 <span class="comment">%sixhump(2),schwefel(n),sphere(n),sumsquare(n),AHE(n),cste(n),dejong(n)</span>
0030 <span class="comment">%rastrigin(n),RHE(n)</span>
0031 <span class="comment">% dimension du pb (nb de variables)</span>
0032 dim_pb=2;
0033 <span class="comment">%esp=[0 15];</span>
0034 esp=[];
0035 <span class="comment">%%Definition de l'espace de conception</span>
0036 [doe]=init_doe(dim_pb,esp,fct);
0037 <span class="comment">%nombre d'element pas dimension (pour le trace)</span>
0038 aff.nbele=<a href="../GRENAT/routines/divers/gene_nbele.html" class="code" title="function nb_ele=gene_nbele(dim)">gene_nbele</a>(doe.dim_pb);<span class="comment">%max([3 floor((30^2)^(1/doe.dim_pb))]);</span>
0039 <span class="comment">%type de tirage</span>
0040 doe.type=<span class="string">'IHS'</span>;
0041 <span class="comment">%nb d'echantillons</span>
0042 doe.nb_samples=35;
0043 <span class="comment">%execution tirages</span>
0044 tir=gene_doe(doe);
0045 tirages=tir.tri;
0046 <span class="comment">%evaluations de la fonction aux points</span>
0047 [eval,grad]=<a href="../GRENAT/routines/divers/gene_eval.html" class="code" title="function [eval,grad]=gene_eval(fct,X,type)">gene_eval</a>(doe.fct,tirages,<span class="string">'eval'</span>);
0048 <span class="comment">%Trace de la fonction de la fonction etudiee et des gradients</span>
0049 [grid_ref,aff]=<a href="../GRENAT/routines/divers/gene_aff.html" class="code" title="function [XY,aff]=gene_aff(doe,aff)">gene_aff</a>(doe,aff);
0050 [eval_ref,grad_ref]=<a href="../GRENAT/routines/divers/gene_eval.html" class="code" title="function [eval,grad]=gene_eval(fct,X,type)">gene_eval</a>(doe.fct,grid_ref,<span class="string">'aff'</span>);
0051 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0052 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0053 <span class="comment">%chargement des parametres metamodele</span>
0054 data.type=<span class="string">'GRBF'</span>;
0055 data.rbf=<span class="string">'matern32'</span>;
0056 meta=<a href="../GRENAT/routines/init/init_meta.html" class="code" title="function meta=init_meta(in)">init_meta</a>(data);
0057 meta.cv_aff=true;
0058 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0059 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0060 <span class="comment">%Construction et evaluation du metamodele aux points souhaites</span>
0061 [approx]=<a href="../GRENAT/routines/meta/const_meta.html" class="code" title="function [ret]=const_meta(tirages,eval,grad_in,meta,num_fct)">const_meta</a>(tirages,eval,grad,meta);
0062 <span class="comment">%evaluation du metamodele aux points de la grille</span>
0063 [K]=<a href="../GRENAT/routines/meta/eval_meta.html" class="code" title="function [Z]=eval_meta(points,donnees,meta,verb)">eval_meta</a>(grid_ref,approx,meta);
0064 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0065 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0066 <span class="comment">%%%generation des differents intervalles de confiance</span>
0067 <span class="keyword">if</span> isfield(K,<span class="string">'var'</span>);[ic68,ic95,ic99]=<a href="../GRENAT/routines/crit/const_ic.html" class="code" title="function [ic68,ic95,ic99]=const_ic(ZZ,var)">const_ic</a>(K.Z,K.var);<span class="keyword">end</span>
0068 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0069 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0070 <span class="comment">%%%affichage</span>
0071 <span class="comment">%valeur par defaut</span>
0072 aff.on=true;
0073 aff.newfig=false;
0074 aff.ic.on=true;
0075 <span class="comment">%affichage de l'intervalle de confiance</span>
0076 aff.rendu=true;
0077 aff.d3=true;
0078 aff.xlabel=<span class="string">'x_1'</span>;
0079 aff.ylabel=<span class="string">'x_2'</span>;
0080 
0081 figure
0082 subplot(2,3,1)
0083 aff.titre=<span class="string">'Fonction de reference'</span>;
0084 <a href="../GRENAT/routines/aff/affichage.html" class="code" title="function fig_handle=affichage(grille,Z,tirages,eval,grad,aff)">affichage</a>(grid_ref,eval_ref,tirages,eval,grad,aff);
0085 subplot(2,3,2)
0086 aff.titre=<span class="string">'Fonction approchee'</span>;
0087 <a href="../GRENAT/routines/aff/affichage.html" class="code" title="function fig_handle=affichage(grille,Z,tirages,eval,grad,aff)">affichage</a>(grid_ref,K.Z,tirages,eval,grad,aff);
0088 subplot(2,3,4)
0089 aff.titre=<span class="string">''</span>;
0090 aff.rendu=false;
0091 aff.d3=false;
0092 aff.d2=true;
0093 aff.contour=true;
0094 aff.grad_eval=true;
0095 aff.grad_meta=true;
0096 ref.Z=eval_ref;ref.GZ=grad_ref;
0097 <a href="../GRENAT/routines/aff/affichage.html" class="code" title="function fig_handle=affichage(grille,Z,tirages,eval,grad,aff)">affichage</a>(grid_ref,ref,tirages,eval,grad,aff);
0098 subplot(2,3,5)
0099 <a href="../GRENAT/routines/aff/affichage.html" class="code" title="function fig_handle=affichage(grille,Z,tirages,eval,grad,aff)">affichage</a>(grid_ref,K,tirages,eval,grad,aff);
0100 subplot(2,3,3)
0101 aff.d3=true;
0102 aff.d2=false;
0103 aff.contour=false;
0104 aff.grad_meta=false;
0105 aff.grad_eval=false;
0106 aff.rendu=true;
0107 aff.titre=<span class="string">'Variance'</span>;
0108 <a href="../GRENAT/routines/aff/affichage.html" class="code" title="function fig_handle=affichage(grille,Z,tirages,eval,grad,aff)">affichage</a>(grid_ref,K.var,tirages,eval,grad,aff);
0109 subplot(2,3,6)
0110 aff.titre=<span class="string">'Intervalle de confiance a 95%'</span>;
0111 aff.trans=true;
0112 aff.uni=true;
0113  <a href="../GRENAT/routines/aff/affichage_ic.html" class="code" title="function affichage_ic(X,ic,aff,Z)">affichage_ic</a>(grid_ref,ic95,aff,K.Z);
0114 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0115 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0116 <span class="comment">%%calcul et affichage des criteres d'erreur</span>
0117 err=<a href="../GRENAT/routines/crit/crit_err.html" class="code" title="function [err,errV,errNAME]=crit_err(Zap,Zref,donnees)">crit_err</a>(K.Z,eval_ref,approx);
0118 fprintf(<span class="string">'=====================================\n'</span>);
0119 fprintf(<span class="string">'=====================================\n'</span>);
0120 
0121 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0122 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0123 <span class="comment">%arret workers</span>
0124 <a href="../GRENAT/routines/divers/exec_parallel.html" class="code" title="function [ret]=exec_parallel(statut,options)">exec_parallel</a>(<span class="string">'stop'</span>,parallel)
0125 
0126 <a href="../GRENAT/routines/divers/mesu_time.html" class="code" title="function [tictoc_compt,tInit]=mesu_time(compteur,tps_init)">mesu_time</a>(tMesu,tInit);
0127 fprintf(<span class="string">'=========================================\n'</span>)</pre></div>
<hr><address>Generated on Thu 27-Aug-2015 11:57:14 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>