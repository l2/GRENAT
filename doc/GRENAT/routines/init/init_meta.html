<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of init_meta</title>
  <meta name="keywords" content="init_meta">
  <meta name="description" content="% Initialisation du metamodele">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../../menu.html GRENAT --><!-- # routines --><!-- menu.html init -->
<h1>init_meta
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>% Initialisation du metamodele</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function meta=init_meta(in) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">% Initialisation du metamodele
% L. LAURENT -- 17/12/2010 -- laurent@lmt.ens-cachan.fr</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../GRENAT/routines/divers/mesu_time.html" class="code" title="function [tictoc_compt,tInit]=mesu_time(compteur,tps_init)">mesu_time</a>	% Fonction assurant l'initialisation et l'affichage des infos temporelles dans les fonctions</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../GRENAT/EXEMPLE_UTILISATION.html" class="code" title="">EXEMPLE_UTILISATION</a>	Exemple d'utilisation de la Toolbox GRENAT</li><li><a href="../../../GRENAT/EXEMPLE_UTILISATION_DOE.html" class="code" title="">EXEMPLE_UTILISATION_DOE</a>	Exemple d'utilisation de la Toolbox GRENAT couplee avec LMTir</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%% Initialisation du metamodele</span>
0002 <span class="comment">%% L. LAURENT -- 17/12/2010 -- laurent@lmt.ens-cachan.fr</span>
0003 
0004 <a name="_sub0" href="#_subfunctions" class="code">function meta=init_meta(in)</a>
0005 
0006 fprintf(<span class="string">'=========================================\n'</span>)
0007 fprintf(<span class="string">'     &gt;&gt;&gt; INITIALISATION META &lt;&lt;&lt;\n'</span>);
0008 [tMesu,tInit]=<a href="../../../GRENAT/routines/divers/mesu_time.html" class="code" title="function [tictoc_compt,tInit]=mesu_time(compteur,tps_init)">mesu_time</a>;
0009 
0010 <span class="comment">%%%configuration par defaut</span>
0011 <span class="comment">%prise en compte des gradients</span>
0012 meta.grad=false;
0013 <span class="comment">%type de metamodele</span>
0014 meta.type=<span class="string">'KRG'</span>;
0015 <span class="comment">%longueur de correlation</span>
0016 meta.para.l_val=1;
0017 <span class="comment">%parametre puissance</span>
0018 meta.para.p_val=2;
0019 <span class="comment">%normalisation</span>
0020 meta.norm=true;
0021 <span class="comment">%amelioration du conditionnement de la matrice de correlation</span>
0022 meta.recond=true;
0023 <span class="comment">%validation croisee</span>
0024 meta.cv=true;
0025 <span class="comment">%calcul tous criteres CV</span>
0026 meta.cv_full=false;
0027 <span class="comment">%affichage QQ plot CV</span>
0028 meta.cv_aff=false;
0029 
0030 
0031 <span class="comment">%%%options specifiques</span>
0032 <span class="comment">%parametre SWF</span>
0033 swf_para=1;
0034 <span class="comment">%degre regression krigeage</span>
0035 deg=0;
0036 <span class="comment">%fonction de correlation</span>
0037 corr=<span class="string">'corr_matern32'</span>;
0038 rbf=<span class="string">'rf_sexp'</span>;
0039 
0040 
0041 <span class="comment">%%estimation parametre long (longueur de correlation)</span>
0042 <span class="comment">% recherche de la longueur de correlation</span>
0043 meta.para.estim=true;
0044 <span class="comment">%prise en compte de l'anisotropie (longueur de correlation suivant chaque dimension)</span>
0045 meta.para.aniso=true;
0046 <span class="comment">%affichage de la fonctionnelle a miniser pour obtenir le &quot;meilleur&quot; jeu de parametres</span>
0047 meta.para.aff_estim=false;
0048 <span class="comment">%affichage iteration estimation parametres sur un graph (1D/2D)</span>
0049 meta.para.aff_iter_graph=false;
0050 <span class="comment">%affichage iteration dans la console</span>
0051 meta.para.aff_iter_cmd=false;
0052 <span class="comment">%affichage informations convergence algo dans des plots</span>
0053 meta.para.aff_plot_algo=false;
0054 <span class="comment">% methode de minimisation de la log-vraisemblance</span>
0055 meta.para.method=<span class="string">'pso'</span>;
0056 <span class="comment">%strategie tirage population initiale algo GA '', 'LHS','IHS'...</span>
0057 meta.para.popManu=<span class="string">'IHS'</span>;
0058 <span class="comment">%population initiale algo GA</span>
0059 meta.para.nbPopInit=[];
0060 <span class="comment">%critere arret algo optimisation</span>
0061 meta.para.crit_opti=10^-6;
0062 <span class="comment">%bornes esapce recherche parametres</span>
0063 <span class="keyword">if</span> meta.para.estim
0064     meta.para.l_min=1e-4;
0065     meta.para.l_max=50;
0066     meta.para.p_max=2;
0067     meta.para.p_min=1.001;
0068 <span class="keyword">end</span>
0069 
0070 <span class="comment">%enrichissement (evaluation critere)</span>
0071 meta.enrich.on=false;
0072 meta.enrich.para_wei=0.5;
0073 meta.enrich.para_gei=1;
0074 meta.enrich.para_lcb=0.5;
0075 
0076 <span class="comment">%Verification interpolation</span>
0077 meta.verif=true;
0078 
0079 <span class="comment">%sauvegarde des</span>
0080 
0081 
0082 <span class="comment">%% chargement configuration particuliere</span>
0083 <span class="keyword">if</span> nargin==0
0084     in=[];
0085 <span class="keyword">end</span>
0086 <span class="comment">%prise en compte des gradients</span>
0087 <span class="keyword">if</span> isfield(in,<span class="string">'grad'</span>);meta.grad=in.grad;<span class="keyword">end</span>
0088 <span class="comment">%type de metamodele KRG/CKRG/DACE/RBF/GRBF</span>
0089 <span class="keyword">if</span> isfield(in,<span class="string">'type'</span>);meta.type=in.type;<span class="keyword">end</span>
0090 <span class="comment">%parametre fonction RBF/KRG</span>
0091 <span class="keyword">if</span> isfield(in,<span class="string">'para'</span>)
0092     <span class="keyword">if</span> isfield(in.para,<span class="string">'long'</span>);meta.para.l_val=in.para.long;<span class="keyword">end</span>
0093     <span class="keyword">if</span> meta.para.estim
0094         <span class="keyword">if</span> isfield(in,<span class="string">'long'</span>);
0095             meta.para.l_max=in.para.long(2);
0096             meta.para.l_min=in.para.long(1);
0097         <span class="keyword">end</span>
0098     <span class="keyword">end</span>
0099     <span class="keyword">if</span> isfield(in.para,<span class="string">'pow'</span>);meta.para.p_val=in.para.pow;<span class="keyword">end</span>
0100     <span class="keyword">if</span> meta.para.estim
0101         <span class="keyword">if</span> isfield(in,<span class="string">'pow'</span>);
0102             meta.para.p_max=in.para.pow(2);
0103             meta.para.p_max=in.para.pow(1);
0104         <span class="keyword">end</span>
0105     <span class="keyword">end</span>
0106 <span class="keyword">end</span>
0107 
0108 <span class="comment">%en fonction du type de metamodele</span>
0109 <span class="keyword">switch</span> meta.type
0110     <span class="keyword">case</span> <span class="string">'SWF'</span>
0111         <span class="keyword">if</span> isfield(in,<span class="string">'swf_para'</span>);meta.swf_para=in.swf_para;<span class="keyword">else</span> meta.swf_para=swf_para;<span class="keyword">end</span>
0112     <span class="keyword">case</span> <span class="string">'DACE'</span>
0113         fctp=<span class="string">'regpoly'</span>;
0114         <span class="comment">%fonction de regression</span>
0115         <span class="keyword">if</span> isfield(in,<span class="string">'deg'</span>);meta.regr=[fctp num2str(in.deg,<span class="string">'%d'</span>)];<span class="keyword">else</span> meta.regr=[fctp num2str(deg,<span class="string">'%d'</span>)];<span class="keyword">end</span>
0116         <span class="comment">%fonction de correlation</span>
0117         <span class="keyword">if</span> isfield(in,<span class="string">'corr'</span>);meta.corr=[<span class="string">'corr'</span> in.corr];<span class="keyword">else</span> meta.corr=corr;<span class="keyword">end</span>
0118     <span class="keyword">case</span> {<span class="string">'RBF'</span>,<span class="string">'GRBF'</span>,<span class="string">'InRBF'</span>}
0119         <span class="keyword">if</span> isfield(in,<span class="string">'rbf'</span>);meta.rbf=[<span class="string">'rf_'</span> in.rbf];<span class="keyword">else</span> meta.rbf=rbf;<span class="keyword">end</span>
0120     <span class="keyword">case</span> {<span class="string">'KRG'</span>,<span class="string">'CKRG'</span>,<span class="string">'InKRG'</span>}
0121         <span class="comment">%degre de la regression</span>
0122         <span class="keyword">if</span> isfield(in,<span class="string">'deg'</span>);meta.deg=in.deg;<span class="keyword">else</span> meta.deg=deg;<span class="keyword">end</span>
0123         <span class="comment">%fonction de correlation</span>
0124         <span class="keyword">if</span> isfield(in,<span class="string">'corr'</span>);meta.corr=[<span class="string">'corr_'</span> in.corr];<span class="keyword">else</span> meta.corr=corr;<span class="keyword">end</span>
0125         
0126     <span class="keyword">otherwise</span>
0127 <span class="keyword">end</span>
0128 <span class="comment">%normalisation</span>
0129 <span class="keyword">if</span> isfield(in,<span class="string">'norm'</span>);meta.norm=in.norm;<span class="keyword">end</span>
0130 <span class="comment">%amelioration du conditionnement de la matrice de correlation</span>
0131 <span class="keyword">if</span> isfield(in,<span class="string">'recond'</span>);meta.recond=in.recond;<span class="keyword">end</span>
0132 <span class="comment">%validation croisee</span>
0133 <span class="keyword">if</span> isfield(in,<span class="string">'cv'</span>);meta.cv=in.cv;<span class="keyword">end</span>
0134 <span class="comment">%calcul tous criteres CV</span>
0135 <span class="keyword">if</span> isfield(in,<span class="string">'cv_full'</span>);meta.cv_full=in.cv_full;<span class="keyword">end</span>
0136 <span class="comment">%affichage QQ plot CV</span>
0137 <span class="keyword">if</span> isfield(in,<span class="string">'cv_aff'</span>);meta.cv_aff=in.cv_aff;<span class="keyword">end</span>
0138 
0139 
0140 <span class="comment">%%estimation parametre long (longueur de correlation)</span>
0141 <span class="keyword">if</span> isfield(in,<span class="string">'para'</span>);
0142     <span class="comment">% recherche de la longueur de correlation</span>
0143     <span class="keyword">if</span> isfield(in.para,<span class="string">'estim'</span>);meta.para.estim=in.para.estim;<span class="keyword">end</span>
0144     <span class="comment">%prise en compte de l'anisotropie (longueur de correlation suivant chaque dimension)</span>
0145     <span class="keyword">if</span> isfield(in.para,<span class="string">'aniso'</span>);meta.para.aniso=in.para.aniso;<span class="keyword">end</span>
0146     <span class="comment">%affichage de la fonctionnelle a miniser pour obtenir le &quot;meilleur&quot; jeu de parametres</span>
0147     <span class="keyword">if</span> isfield(in.para,<span class="string">'aff_estim'</span>);meta.para.aff_estim=in.para.aff_estim;<span class="keyword">end</span>
0148     <span class="comment">%affichage iteration estimation parametres sur un graph (1D/2D)</span>
0149     <span class="keyword">if</span> isfield(in.para,<span class="string">'aff_iter_graph'</span>);meta.para.aff_iter_graph=in.para.aff_iter_graph;<span class="keyword">end</span>
0150     <span class="comment">%affichage iteration dans la console</span>
0151     <span class="keyword">if</span> isfield(in.para,<span class="string">'aff_iter_cmd'</span>);meta.para.aff_iter_cmd=in.para.aff_iter_cmd;<span class="keyword">end</span>
0152     <span class="comment">% methode de minimisation de la log-vraisemblance</span>
0153     <span class="keyword">if</span> isfield(in.para,<span class="string">'method'</span>);meta.para.method=in.para.method;<span class="keyword">end</span>
0154     <span class="comment">%strategie tirage population initiale algo GA '', 'LHS','IHS'...</span>
0155     <span class="keyword">if</span> isfield(in.para,<span class="string">'popManu'</span>);meta.para.popManu=in.para.popManu;<span class="keyword">end</span>
0156     <span class="comment">%population initiale algo GA</span>
0157     <span class="keyword">if</span> isfield(in.para,<span class="string">'norpopInitm'</span>);meta.para.popInit=in.para.popInit;<span class="keyword">end</span>
0158     <span class="comment">%critere arret algo optimisation</span>
0159     <span class="keyword">if</span> isfield(in.para,<span class="string">'crit_opti'</span>);meta.para.crit_opti=in.para.crit_opti;<span class="keyword">end</span>
0160     <span class="keyword">if</span> meta.para.estim
0161         <span class="keyword">if</span> isfield(in.para,<span class="string">'long'</span>);
0162             meta.para.l_max=in.para.long(2);
0163             meta.para.l_min=in.para.long(1);
0164         <span class="keyword">end</span>
0165     <span class="keyword">end</span>
0166 <span class="keyword">end</span>
0167 <span class="comment">%enrichissement (evaluation critere)</span>
0168 <span class="keyword">if</span> isfield(in,<span class="string">'enrich'</span>);
0169     <span class="keyword">if</span> isfield(in.enrich,<span class="string">'on'</span>);meta.enrich.on=in.enrich.on;<span class="keyword">end</span>
0170     <span class="keyword">if</span> isfield(in.enrich,<span class="string">'para_wei'</span>);meta.enrich.para_wei=in.enrich.para_wei;<span class="keyword">end</span>
0171     <span class="keyword">if</span> isfield(in.enrich,<span class="string">'para_gei'</span>);meta.enrich.para_gei=in.enrich.para_gei;<span class="keyword">end</span>
0172     <span class="keyword">if</span> isfield(in.enrich,<span class="string">'para_lcb'</span>);meta.enrich.para_lcb=in.enrich.para_lcb;<span class="keyword">end</span>
0173     
0174     <span class="comment">%Verification interpolation</span>
0175     <span class="keyword">if</span> isfield(in,<span class="string">'verif'</span>);meta.verif=in.verif;<span class="keyword">end</span>
0176 <span class="keyword">end</span>
0177 
0178 <span class="keyword">if</span> usejava(<span class="string">'jvm'</span>)
0179     <span class="comment">%comptage du nombre de workers disponibles (pour parallelisme)</span>
0180     meta.worker_parallel=matlabpool(<span class="string">'size'</span>);
0181 <span class="keyword">else</span>
0182     meta.worker_parallel=1;
0183 <span class="keyword">end</span>
0184 
0185 <a href="../../../GRENAT/routines/divers/mesu_time.html" class="code" title="function [tictoc_compt,tInit]=mesu_time(compteur,tps_init)">mesu_time</a>(tMesu,tInit);
0186 fprintf(<span class="string">'=========================================\n'</span>)</pre></div>
<hr><address>Generated on Fri 07-Feb-2014 20:13:17 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>