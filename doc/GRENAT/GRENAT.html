<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of GRENAT</title>
  <meta name="keywords" content="GRENAT">
  <meta name="description" content="% GRENAT class for manipulating gradient-enhanced metamodels">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- menu.html GRENATdevel -->
<h1>GRENAT
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>% GRENAT class for manipulating gradient-enhanced metamodels</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment">% GRENAT class for manipulating gradient-enhanced metamodels
 L. LAURENT -- 26/06/2016 -- luc.laurent@lecnam.net</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="GRENAT.html" class="code" title="">GRENAT</a>	% GRENAT class for manipulating gradient-enhanced metamodels</li><li><a href="initDirGRENAT.html" class="code" title="function foldersLoad=initDirGRENAT(pathcustom,other,flagNested)">initDirGRENAT</a>	% Initialization of the directories (MATLAB's path)</li><li><a href="../GRENATdevel/src/crit/BuildCI.html" class="code" title="function [ci68,ci95,ci99]=BuildCI(ZZ,var)">BuildCI</a>	% function for building confidence intervals (CI)</li><li><a href="../GRENATdevel/src/crit/InfillCrit.html" class="code" title="function [ZI,detInfill]=InfillCrit(respMin,Z,varZ,infillData)">InfillCrit</a>	% Compute infill criteria EI/WEI/LCB</li><li><a href="../GRENATdevel/src/crit/critErrDisp.html" class="code" title="function [err,errV,errNAME]=critErrDisp(Zap,Zref,data)">critErrDisp</a>	% Compute error criteria and display</li><li><a href="../GRENATdevel/src/disp/dispDate.html" class="code" title="function dispDate(type)">dispDate</a>	% Display date and time</li><li><a href="../GRENATdevel/src/disp/displaySurrogate.html" class="code" title="function figHandle=displaySurrogate(gridXY,Z,sampling,resp,grad,dispData)">displaySurrogate</a>	% function for displaying response surfaces</li><li><a href="../GRENATdevel/src/disp/displaySurrogateCI.html" class="code" title="function displaySurrogateCI(Xpts,ic,dispData,Z)">displaySurrogateCI</a>	% Display confidence intervals</li><li><a href="../GRENATdevel/src/init/initDisp.html" class="code" title="">initDisp</a>	% Initialization of display variables</li><li><a href="../GRENATdevel/src/init/initMeta.html" class="code" title="">initMeta</a>	% Initialization of the surrogate model</li><li><a href="../GRENATdevel/src/surrogate/@KRG/eval.html" class="code" title="function [Z,GZ,variance]=eval(obj,X)">eval</a>	% Evaluation of the metamodel</li><li><a href="../GRENATdevel/src/surrogate/@KRG/train.html" class="code" title="function train(obj)">train</a>	% Building/training metamodel</li><li><a href="../GRENATdevel/src/surrogate/@RBF/eval.html" class="code" title="function [Z,GZ,variance]=eval(obj,X)">eval</a>	% Evaluation of the metamodel</li><li><a href="../GRENATdevel/src/surrogate/@RBF/train.html" class="code" title="function train(obj)">train</a>	% Building/training metamodel</li><li><a href="../GRENATdevel/src/surrogate/@xLS/eval.html" class="code" title="function [Z,GZ]=eval(obj,U)">eval</a>	% Evaluation of the metamodel</li><li><a href="../GRENATdevel/src/surrogate/@xLS/train.html" class="code" title="function train(obj,flagRun)">train</a>	% Building/training metamodel</li><li><a href="../GRENATdevel/src/surrogate/BuildMeta.html" class="code" title="function [outMeta]=BuildMeta(samplingIn,respIn,gradIn,metaData)">BuildMeta</a>	% function for building surrogate model</li><li><a href="../GRENATdevel/src/surrogate/EvalMeta.html" class="code" title="function [Z]=EvalMeta(evalSample,dataTrain,metaConf,Verb)">EvalMeta</a>	% Evaluation of the surrogate model</li><li><a href="../GRENATdevel/src/various/@NormRenorm/NormRenorm.html" class="code" title="">NormRenorm</a>	% Normalization and renormalization of the Data (class version)</li><li><a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>	% function for printing information on the command window (based on fprintf)</li><li><a href="../GRENATdevel/src/various/checkInterpRG.html" class="code" title="function statusI=checkInterpRG(ZRef,ZApp,type,critR,critG)">checkInterpRG</a>	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="ExampleUse1D.html" class="code" title="">ExampleUse1D</a>	Example of use of GRENAT without the sampling toolbox</li><li><a href="ExampleUse2D.html" class="code" title="">ExampleUse2D</a>	% Example of use of GRENAT without the sampling toolbox</li><li><a href="ExampleUseDOE.html" class="code" title="">ExampleUseDOE</a>	% Example of use of the GRENAToolbox with the MultiDOE one</li><li><a href="GRENAT.html" class="code" title="">GRENAT</a>	% GRENAT class for manipulating gradient-enhanced metamodels</li><li><a href="README.html" class="code" title="">README</a>	</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="#_sub1" class="code">function obj=GRENAT(typeIn,samplingIn,respIn,gradIn)</a></li><li><a href="#_sub2" class="code">function set.sampling(obj,samplingIn)</a></li><li><a href="#_sub3" class="code">function set.resp(obj,respIn)</a></li><li><a href="#_sub4" class="code">function set.grad(obj,gradIn)</a></li><li><a href="#_sub5" class="code">function set.nonsamplePts(obj,samplingIn)</a></li><li><a href="#_sub6" class="code">function set.type(obj,typeIn)</a></li><li><a href="#_sub7" class="code">function s=get.requireUpdate(obj)</a></li><li><a href="#_sub8" class="code">function type=get.type(obj)</a></li><li><a href="#_sub9" class="code">function PtS=get.nonsamplePtsOrder(obj)</a></li><li><a href="#_sub10" class="code">function Z=get.nonsampleResp(obj)</a></li><li><a href="#_sub11" class="code">function GZ=get.nonsampleGrad(obj)</a></li><li><a href="#_sub12" class="code">function variance=get.nonsampleVar(obj)</a></li><li><a href="#_sub13" class="code">function err=get.err(obj)</a></li><li><a href="#_sub14" class="code">function normStruct=get.norm(obj)</a></li><li><a href="#_sub15" class="code">function s=checkUpdate(obj)</a></li><li><a href="#_sub16" class="code">function s=selfUpdate(obj,flag)</a></li><li><a href="#_sub17" class="code">function initRunTrain(obj,flag)</a></li><li><a href="#_sub18" class="code">function initGradAvail(obj,flag)</a></li><li><a href="#_sub19" class="code">function initRunEval(obj,flag)</a></li><li><a href="#_sub20" class="code">function initData(obj,type)</a></li><li><a href="#_sub21" class="code">function dataOut=orderData(obj,dataIn,type)</a></li><li><a href="#_sub22" class="code">function dataOut=normInputData(obj,type,dataIn)</a></li><li><a href="#_sub23" class="code">function dataOut=reNormInputData(obj,type,dataIn)</a></li><li><a href="#_sub24" class="code">function resetNorm(obj)</a></li><li><a href="#_sub25" class="code">function checkMissingData(obj)</a></li><li><a href="#_sub26" class="code">function defineDisp(obj,varargin)</a></li><li><a href="#_sub27" class="code">function train(obj)</a></li><li><a href="#_sub28" class="code">function update(obj,samplingIn,respIn,gradIn,paraFind,varargin)</a></li><li><a href="#_sub29" class="code">function [Z,GZ,variance]=eval(obj,nonsamplePts,Verb)</a></li><li><a href="#_sub30" class="code">function [ZI,detI]=evalInfill(obj,nonsamplePts,Verb)</a></li><li><a href="#_sub31" class="code">function [statusR,statusG]=checkInterp(obj)</a></li><li><a href="#_sub32" class="code">function [ci68,ci95,ci99]=evalCI(obj,nonsamplePts)</a></li><li><a href="#_sub33" class="code">function [ci68,ci95,ci99]=CI(obj,nonsamplePts)</a></li><li><a href="#_sub34" class="code">function errCalc(obj)</a></li><li><a href="#_sub35" class="code">function defineRef(obj,varargin)</a></li><li><a href="#_sub36" class="code">function [okAll,okSample,okResp,okGrad]=checkRef(obj)</a></li><li><a href="#_sub37" class="code">function conf(obj,varargin)</a></li><li><a href="#_sub38" class="code">function show(obj,varargin)</a></li><li><a href="#_sub39" class="code">function show1D(obj)</a></li><li><a href="#_sub40" class="code">function show2D(obj)</a></li><li><a href="#_sub41" class="code">function showRespRef(obj)</a></li><li><a href="#_sub42" class="code">function showGradRef(obj,nbG)</a></li><li><a href="#_sub43" class="code">function showResp(obj)</a></li><li><a href="#_sub44" class="code">function showGrad(obj,nbG)</a></li><li><a href="#_sub45" class="code">function showCI(obj,ciVal,nonsamplePts)</a></li><li><a href="#_sub46" class="code">function isF=isfield(obj,field)</a></li><li><a href="#_sub47" class="code">function info=affectTxtProp()</a></li><li><a href="#_sub48" class="code">function dispTableTwoColumnsStruct(tableFieldIn,structIn)</a></li><li><a href="#_sub49" class="code">function dispTableTwoColumns(tableA,tableB)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%% GRENAT class for manipulating gradient-enhanced metamodels</span>
0002 <span class="comment">% L. LAURENT -- 26/06/2016 -- luc.laurent@lecnam.net</span>
0003 
0004 <span class="comment">%     GRENAT - GRadient ENhanced Approximation Toolbox</span>
0005 <span class="comment">%     A toolbox for generating and exploiting gradient-enhanced surrogate models</span>
0006 <span class="comment">%     Copyright (C) 2016  Luc LAURENT &lt;luc.laurent@lecnam.net&gt;</span>
0007 <span class="comment">%</span>
0008 <span class="comment">%     This program is free software: you can redistribute it and/or modify</span>
0009 <span class="comment">%     it under the terms of the GNU General Public License as published by</span>
0010 <span class="comment">%     the Free Software Foundation, either version 3 of the License, or</span>
0011 <span class="comment">%     (at your option) any later version.</span>
0012 <span class="comment">%</span>
0013 <span class="comment">%     This program is distributed in the hope that it will be useful,</span>
0014 <span class="comment">%     but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
0015 <span class="comment">%     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
0016 <span class="comment">%     GNU General Public License for more details.</span>
0017 <span class="comment">%</span>
0018 <span class="comment">%     You should have received a copy of the GNU General Public License</span>
0019 <span class="comment">%     along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
0020 
0021 classdef <a href="GRENAT.html" class="code" title="">GRENAT</a> &lt; handle
0022     
0023     properties
0024         <span class="comment">%building</span>
0025         sampling=[];
0026         resp=[];
0027         grad=[];
0028         samplingN=[];
0029         respN=[];
0030         gradN=[];
0031         <span class="comment">%evaluating</span>
0032         nonsamplePts=[];
0033         nonsampleResp=[];
0034         nonsampleGrad=[];
0035         nonsamplePtsOrder=[];
0036         nonsampleRespOrder=[];
0037         nonsampleGradOrder=[];
0038         nonsamplePtsN=[];
0039         nonsampleRespN=[];
0040         nonsampleGradN=[];
0041         sizeNonSample=zeros(1,3);
0042         nonsampleVar=[];
0043         nonsampleVarOrder=[];
0044         nonsampleCI=struct(<span class="string">'ci68'</span>,[],<span class="string">'ci95'</span>,[],<span class="string">'ci99'</span>,[]);
0045         nonsampleEI=[];
0046         <span class="comment">%normalization data</span>
0047         norm;
0048         normMeanS;
0049         normStdS;
0050         normMeanR;
0051         normStdR;
0052         <span class="comment">%</span>
0053         err=[];
0054         <span class="comment">%reference</span>
0055         sampleRef=[];
0056         respRef=[];
0057         gradRef=[];
0058         <span class="comment">%structures &amp; class for storing configuration and data</span>
0059         confMeta;   <span class="comment">%metamodel configuration</span>
0060         dataTrain;  <span class="comment">%training data</span>
0061         confDisp;   <span class="comment">%display configuration</span>
0062         miss;       <span class="comment">%missing data</span>
0063     <span class="keyword">end</span>
0064     properties (Dependent)
0065         type;
0066     <span class="keyword">end</span>
0067     
0068     properties (Access = private)
0069         runTrain=true; <span class="comment">%flag for checking if the training is obsolete</span>
0070         runEval=true; <span class="comment">%flag for checking if the training is obsolete</span>
0071         gradAvail=false; <span class="comment">%flag for availability of the gradients</span>
0072         runErr=true; <span class="comment">%flag for computation of the error</span>
0073         normSamplePtsIn=false; <span class="comment">%flag for checking if the input data are normalized</span>
0074         normRespIn=false; <span class="comment">%flag for checking if the input data are normalized</span>
0075         runMissingData=true; <span class="comment">%flag for checking missing data</span>
0076         nbSubplot=0; <span class="comment">%number of subplot for display</span>
0077         requireUpdate=false; <span class="comment">%flag for checking if GRENAT requires an update</span>
0078     <span class="keyword">end</span>
0079     properties (Access = private,Constant)
0080         infoProp=<a href="#_sub47" class="code" title="subfunction info=affectTxtProp()">affectTxtProp</a>;
0081     <span class="keyword">end</span>
0082     
0083     methods
0084         <span class="comment">%construction</span>
0085         <a name="_sub0" href="#_subfunctions" class="code">function obj=GRENAT(typeIn,samplingIn,respIn,gradIn)</a>
0086             <span class="comment">%load directories on the path</span>
0087             <a href="initDirGRENAT.html" class="code" title="function foldersLoad=initDirGRENAT(pathcustom,other,flagNested)">initDirGRENAT</a>;
0088             <span class="comment">%</span>
0089             <a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=\n'</span>);
0090             <a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=\n'</span>);
0091             <a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">' Create GRENAT Object \n'</span>);
0092             <span class="comment">%the date and time</span>
0093             <a href="../GRENATdevel/src/disp/dispDate.html" class="code" title="function dispDate(type)">dispDate</a>;
0094             <span class="comment">%load default configuration</span>
0095             obj.confMeta=<a href="../GRENATdevel/src/init/initMeta.html" class="code" title="">initMeta</a>;
0096             <span class="comment">%load display configuration</span>
0097             obj.confDisp=<a href="../GRENATdevel/src/init/initDisp.html" class="code" title="">initDisp</a>;
0098             <span class="comment">%specific configuration</span>
0099             <span class="keyword">if</span> nargin&gt;0;obj.confMeta.type=typeIn;<span class="keyword">end</span>
0100             <span class="keyword">if</span> nargin&gt;1;obj.sampling=samplingIn;<span class="keyword">end</span>
0101             <span class="keyword">if</span> nargin&gt;2;obj.resp=respIn;<span class="keyword">end</span>
0102             <span class="keyword">if</span> nargin&gt;3;obj.grad=gradIn;<span class="keyword">end</span>
0103         <span class="keyword">end</span>
0104         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0105         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0106         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0107         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0108         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0109         <span class="comment">%setter for the sampling</span>
0110         <a name="_sub1" href="#_subfunctions" class="code">function set.sampling(obj,samplingIn)</a>
0111             <span class="keyword">if</span> ~isempty(samplingIn)
0112                 <span class="keyword">if</span> isempty(obj.sampling)
0113                     obj.sampling=samplingIn;
0114                 <span class="keyword">else</span>
0115                     obj.sampling=[obj.sampling;samplingIn];
0116                 <span class="keyword">end</span>
0117                 <a href="#_sub17" class="code" title="subfunction initRunTrain(obj,flag)">initRunTrain</a>(obj,true);
0118                 <a href="#_sub24" class="code" title="subfunction resetNorm(obj)">resetNorm</a>(obj);
0119                 <a href="#_sub20" class="code" title="subfunction initData(obj,type)">initData</a>(obj,<span class="string">'Sampling'</span>);
0120             <span class="keyword">else</span>
0121                 fprintf(<span class="string">'ERROR: Empty array of sample points\n'</span>);
0122             <span class="keyword">end</span>
0123         <span class="keyword">end</span>
0124         <span class="comment">%setter for the responses</span>
0125         <a name="_sub2" href="#_subfunctions" class="code">function set.resp(obj,respIn)</a>
0126             <span class="keyword">if</span> ~isempty(respIn)
0127                 <span class="keyword">if</span> isempty(obj.resp)
0128                     obj.resp=respIn;
0129                 <span class="keyword">else</span>
0130                     obj.resp=[obj.resp;respIn];
0131                 <span class="keyword">end</span>
0132                 <a href="#_sub17" class="code" title="subfunction initRunTrain(obj,flag)">initRunTrain</a>(obj,true);
0133                 <a href="#_sub20" class="code" title="subfunction initData(obj,type)">initData</a>(obj,<span class="string">'Resp'</span>);
0134             <span class="keyword">else</span>
0135                 fprintf(<span class="string">'ERROR: Empty array of responses\n'</span>);
0136             <span class="keyword">end</span>
0137         <span class="keyword">end</span>
0138         <span class="comment">%setter for the gradients</span>
0139         <a name="_sub3" href="#_subfunctions" class="code">function set.grad(obj,gradIn)</a>
0140             <span class="keyword">if</span> ~isempty(gradIn)
0141                 <span class="keyword">if</span> isempty(obj.grad)
0142                     obj.grad=gradIn;
0143                 <span class="keyword">else</span>
0144                     obj.grad=[obj.grad;gradIn];
0145                 <span class="keyword">end</span>
0146                 <a href="#_sub17" class="code" title="subfunction initRunTrain(obj,flag)">initRunTrain</a>(obj,true);
0147                 <a href="#_sub18" class="code" title="subfunction initGradAvail(obj,flag)">initGradAvail</a>(obj,true);
0148                 <a href="#_sub20" class="code" title="subfunction initData(obj,type)">initData</a>(obj,<span class="string">'Grad'</span>);
0149             <span class="keyword">end</span>
0150         <span class="keyword">end</span>
0151         <span class="comment">%setter for the non sample points</span>
0152         <a name="_sub4" href="#_subfunctions" class="code">function set.nonsamplePts(obj,samplingIn)</a>
0153             <span class="keyword">if</span> ~isempty(samplingIn)
0154                 obj.nonsamplePts=samplingIn;
0155                 <a href="#_sub19" class="code" title="subfunction initRunEval(obj,flag)">initRunEval</a>(obj,true);
0156             <span class="keyword">end</span>
0157         <span class="keyword">end</span>
0158         <span class="comment">%setter for the type of metamodel</span>
0159         <a name="_sub5" href="#_subfunctions" class="code">function set.type(obj,typeIn)</a>
0160             obj.confMeta.type=typeIn;
0161         <span class="keyword">end</span>
0162         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0163         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0164         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0165         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0166         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0167         <span class="comment">%getter for checking if GRENAT could be updated</span>
0168         <a name="_sub6" href="#_subfunctions" class="code">function s=get.requireUpdate(obj)</a>
0169             s=obj.checkUpdate();
0170         <span class="keyword">end</span>
0171         <span class="comment">%getter for the type of metamodel</span>
0172         <a name="_sub7" href="#_subfunctions" class="code">function type=get.type(obj)</a>
0173             type=obj.confMeta.type;
0174         <span class="keyword">end</span>
0175         <span class="comment">%setter for the non sample points</span>
0176         <a name="_sub8" href="#_subfunctions" class="code">function PtS=get.nonsamplePtsOrder(obj)</a>
0177             PtS=<a href="#_sub21" class="code" title="subfunction dataOut=orderData(obj,dataIn,type)">orderData</a>(obj,obj.nonsamplePts,<span class="string">'sampleIn'</span>);
0178         <span class="keyword">end</span>
0179         <span class="comment">%getter for the responses at the non sample points</span>
0180         <a name="_sub9" href="#_subfunctions" class="code">function Z=get.nonsampleResp(obj)</a>
0181             <span class="keyword">if</span> obj.runEval;<a href="../GRENATdevel/src/surrogate/@KRG/eval.html" class="code" title="function [Z,GZ,variance]=eval(obj,X)">eval</a>(obj);<span class="keyword">end</span>
0182             Z=<a href="#_sub21" class="code" title="subfunction dataOut=orderData(obj,dataIn,type)">orderData</a>(obj,obj.nonsampleRespOrder,<span class="string">'respOut'</span>);
0183         <span class="keyword">end</span>
0184         <span class="comment">%getter for the gradients at the non sample points</span>
0185         <a name="_sub10" href="#_subfunctions" class="code">function GZ=get.nonsampleGrad(obj)</a>
0186             <span class="keyword">if</span> obj.runEval;<a href="../GRENATdevel/src/surrogate/@KRG/eval.html" class="code" title="function [Z,GZ,variance]=eval(obj,X)">eval</a>(obj);<span class="keyword">end</span>
0187             GZ=<a href="#_sub21" class="code" title="subfunction dataOut=orderData(obj,dataIn,type)">orderData</a>(obj,obj.nonsampleGradOrder,<span class="string">'gradOut'</span>);
0188         <span class="keyword">end</span>
0189         <span class="comment">%getter for the variance at the non sample points</span>
0190         <a name="_sub11" href="#_subfunctions" class="code">function variance=get.nonsampleVar(obj)</a>
0191             <span class="keyword">if</span> obj.runEval;<a href="../GRENATdevel/src/surrogate/@KRG/eval.html" class="code" title="function [Z,GZ,variance]=eval(obj,X)">eval</a>(obj);<span class="keyword">end</span>
0192             variance=<a href="#_sub21" class="code" title="subfunction dataOut=orderData(obj,dataIn,type)">orderData</a>(obj,obj.nonsampleVarOrder,<span class="string">'respOut'</span>);
0193         <span class="keyword">end</span>
0194         <span class="comment">%getter for error values</span>
0195         <a name="_sub12" href="#_subfunctions" class="code">function err=get.err(obj)</a>
0196             <span class="keyword">if</span> obj.runErr;<a href="#_sub34" class="code" title="subfunction errCalc(obj)">errCalc</a>(obj);<span class="keyword">end</span>
0197             err=obj.err;
0198         <span class="keyword">end</span>
0199         <span class="comment">%getter for normalization data structure</span>
0200         <a name="_sub13" href="#_subfunctions" class="code">function normStruct=get.norm(obj)</a>
0201             normStruct.sampling.mean=obj.normMeanS;
0202             normStruct.sampling.std=obj.normStdS;
0203             normStruct.resp.mean=obj.normMeanR;
0204             normStruct.resp.std=obj.normStdR;
0205             normStruct.on=obj.confMeta.normOn;
0206         <span class="keyword">end</span>
0207         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0208         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0209         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0210         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0211         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0212         <span class="comment">%check if update could be done</span>
0213         <a name="_sub14" href="#_subfunctions" class="code">function s=checkUpdate(obj)</a>
0214             s=false;
0215             obj.requireUpdate=false;
0216             <span class="comment">%load folder of GRENAT</span>
0217             f=fileparts(mfilename(<span class="string">'fullpath'</span>));
0218            <span class="keyword">if</span> exist(fullfile(<span class="string">'.git'</span>),<span class="string">'dir'</span>)
0219                [e,~]=system([<span class="string">'cd '</span> f <span class="string">' &amp;&amp; git status -uno | grep up-to-date &amp;&amp; exit 3'</span>]);
0220                <span class="keyword">if</span> e==3
0221                    <a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'GRENAT is up to date\n'</span>);
0222                <span class="keyword">else</span>
0223                    <a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'GRENAT could be update\n'</span>);
0224                    s=true;
0225                    obj.requireUpdate=true;
0226                <span class="keyword">end</span>
0227            <span class="keyword">else</span>
0228                <a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'Not a git version: checking update not available\n'</span>);
0229            <span class="keyword">end</span>
0230         <span class="keyword">end</span>
0231         <span class="comment">%check if update could be done</span>
0232         <a name="_sub15" href="#_subfunctions" class="code">function s=selfUpdate(obj,flag)</a>
0233             <span class="keyword">if</span> nargin==1
0234                 flag=obj.requireUpdate;
0235             <span class="keyword">end</span>
0236             <span class="comment">%load folder of GRENAT</span>
0237             f=fileparts(mfilename(<span class="string">'fullpath'</span>));
0238             <span class="keyword">if</span> flag
0239                 <span class="keyword">if</span> exist(fullfile(<span class="string">'.git'</span>),<span class="string">'dir'</span>)
0240                     [e,s]=system([<span class="string">'cd '</span> f <span class="string">' &amp;&amp; git pull origin'</span>]);
0241                     <span class="keyword">if</span> e==0
0242                         <a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'GRENAT has been update\n'</span>);
0243                         s=false;
0244                         obj.requireUpdate=false;
0245                     <span class="keyword">end</span>
0246                 <span class="keyword">else</span>
0247                     <a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'Not a git version: update not available\n'</span>);
0248                 <span class="keyword">end</span>
0249             <span class="keyword">end</span>
0250         <span class="keyword">end</span>
0251         <span class="comment">%initialize flags</span>
0252         <a name="_sub16" href="#_subfunctions" class="code">function initRunTrain(obj,flag)</a>
0253             obj.runTrain=flag;
0254         <span class="keyword">end</span>
0255         <a name="_sub17" href="#_subfunctions" class="code">function initGradAvail(obj,flag)</a>
0256             obj.gradAvail=flag;
0257         <span class="keyword">end</span>
0258         <a name="_sub18" href="#_subfunctions" class="code">function initRunEval(obj,flag)</a>
0259             obj.runEval=flag;
0260         <span class="keyword">end</span>
0261         <span class="comment">%initialize data (remove saved data)</span>
0262         <a name="_sub19" href="#_subfunctions" class="code">function initData(obj,type)</a>
0263             <span class="keyword">if</span> nargin==1
0264                 obj.sampling=[];
0265                 obj.resp=[];
0266                 obj.grad=[];
0267             <span class="keyword">elseif</span> nargin==2
0268                 <span class="keyword">switch</span> type
0269                     <span class="keyword">case</span> <span class="string">'Sampling'</span>
0270                         obj.samplingN=obj.sampling;
0271                     <span class="keyword">case</span> <span class="string">'Resp'</span>
0272                         obj.respN=obj.resp;
0273                     <span class="keyword">case</span> <span class="string">'Grad'</span>
0274                         obj.gradN=obj.grad;
0275                 <span class="keyword">end</span>
0276             <span class="keyword">end</span>
0277         <span class="keyword">end</span>
0278         <span class="comment">%ordering data (for manipulating nd-arrays)</span>
0279         <a name="_sub20" href="#_subfunctions" class="code">function dataOut=orderData(obj,dataIn,type)</a>
0280             <span class="keyword">switch</span> type
0281                 <span class="keyword">case</span> <span class="string">'sampleIn'</span>
0282                     <span class="comment">%size of the input data</span>
0283                     obj.sizeNonSample=[size(dataIn,1),size(dataIn,2),size(dataIn,3)];
0284                     <span class="comment">%in the case of nd-array</span>
0285                     <span class="keyword">if</span> obj.sizeNonSample(3)&gt;1
0286                         dataOut=reshape(dataIn,[ obj.sizeNonSample(1)*obj.sizeNonSample(2),obj.sizeNonSample(3),1]);
0287                     <span class="keyword">else</span>
0288                         dataOut=dataIn;
0289                     <span class="keyword">end</span>
0290                 <span class="keyword">case</span> <span class="string">'sampleOut'</span>
0291                     <span class="keyword">if</span> obj.sizeNonSample(3)&gt;1
0292                         dataOut=reshape(dataIn,[ obj.sizeNonSample(1),obj.sizeNonSample(2),obj.sizeNonSample(3)]);
0293                     <span class="keyword">else</span>
0294                         dataOut=dataIn;
0295                     <span class="keyword">end</span>
0296                 <span class="keyword">case</span> <span class="string">'respOut'</span>
0297                     <span class="keyword">if</span> obj.sizeNonSample(3)&gt;1
0298                         dataOut=reshape(dataIn,[ obj.sizeNonSample(1),obj.sizeNonSample(2)]);
0299                     <span class="keyword">else</span>
0300                         dataOut=dataIn;
0301                     <span class="keyword">end</span>
0302                 <span class="keyword">case</span> <span class="string">'gradOut'</span>
0303                     <span class="keyword">if</span> obj.sizeNonSample(3)&gt;1
0304                         dataOut=reshape(dataIn,[ obj.sizeNonSample(1),obj.sizeNonSample(2),obj.sizeNonSample(3)]);
0305                     <span class="keyword">else</span>
0306                         dataOut=dataIn;
0307                     <span class="keyword">end</span>
0308             <span class="keyword">end</span>
0309         <span class="keyword">end</span>
0310         <span class="comment">%Normalization of the input data</span>
0311         <a name="_sub21" href="#_subfunctions" class="code">function dataOut=normInputData(obj,type,dataIn)</a>
0312             <span class="keyword">if</span> obj.confMeta.normOn
0313                 <span class="comment">%preparing data structures</span>
0314                 infoDataS=obj.norm.sampling;
0315                 infoDataR=obj.norm.resp;
0316                 <span class="comment">%for various situations</span>
0317                 <span class="keyword">switch</span> type
0318                     <span class="keyword">case</span> <span class="string">'initSamplePts'</span>
0319                         [obj.samplingN,infoDataS]=<a href="../GRENATdevel/src/various/@NormRenorm/NormRenorm.html" class="code" title="">NormRenorm</a>(obj.sampling,<span class="string">'norm'</span>);
0320                         obj.normMeanS=infoDataS.mean;
0321                         obj.normStdS=infoDataS.std;
0322                         obj.normSamplePtsIn=true;
0323                     <span class="keyword">case</span> <span class="string">'initResp'</span>
0324                         [obj.respN,infoDataR]=<a href="../GRENATdevel/src/various/@NormRenorm/NormRenorm.html" class="code" title="">NormRenorm</a>(obj.resp,<span class="string">'norm'</span>);
0325                         obj.normMeanR=infoDataR.mean;
0326                         obj.normStdR=infoDataR.std;
0327                         obj.normRespIn=true;
0328                     <span class="keyword">case</span> <span class="string">'SamplePts'</span>
0329                         dataOut=<a href="../GRENATdevel/src/various/@NormRenorm/NormRenorm.html" class="code" title="">NormRenorm</a>(dataIn,<span class="string">'norm'</span>,infoDataS);
0330                     <span class="keyword">case</span> <span class="string">'Resp'</span>
0331                         dataOut=<a href="../GRENATdevel/src/various/@NormRenorm/NormRenorm.html" class="code" title="">NormRenorm</a>(dataIn,<span class="string">'norm'</span>,infoDataR);
0332                     <span class="keyword">case</span> <span class="string">'Grad'</span>
0333                         <span class="keyword">if</span> ~isempty(dataIn)
0334                             dataOut=NormRenormG(dataIn,<span class="string">'norm'</span>,infoDataS,infoDataR);
0335                         <span class="keyword">else</span>
0336                             dataOut=[];
0337                         <span class="keyword">end</span>
0338                 <span class="keyword">end</span>
0339             <span class="keyword">else</span>
0340                 <span class="keyword">if</span> nargin&gt;2
0341                     dataOut=dataIn;
0342                 <span class="keyword">end</span>
0343             <span class="keyword">end</span>
0344         <span class="keyword">end</span>
0345         <span class="comment">%ReNormalization of the input data</span>
0346         <a name="_sub22" href="#_subfunctions" class="code">function dataOut=reNormInputData(obj,type,dataIn)</a>
0347             <span class="keyword">if</span> obj.confMeta.normOn
0348                 <span class="comment">%preparing data structures</span>
0349                 infoDataS=obj.norm.sampling;
0350                 infoDataR=obj.norm.resp;
0351                 <span class="comment">%for various situations</span>
0352                 <span class="keyword">switch</span> type
0353                     <span class="keyword">case</span> <span class="string">'SamplePts'</span>
0354                         dataOut=<a href="../GRENATdevel/src/various/@NormRenorm/NormRenorm.html" class="code" title="">NormRenorm</a>(dataIn,<span class="string">'renorm'</span>,infoDataS);
0355                     <span class="keyword">case</span> <span class="string">'Resp'</span>
0356                         dataOut=<a href="../GRENATdevel/src/various/@NormRenorm/NormRenorm.html" class="code" title="">NormRenorm</a>(dataIn,<span class="string">'renorm'</span>,infoDataR);
0357                     <span class="keyword">case</span> <span class="string">'Grad'</span>
0358                         dataOut=NormRenormG(dataIn,<span class="string">'renorm'</span>,infoDataS,infoDataR);
0359                 <span class="keyword">end</span>
0360             <span class="keyword">else</span>
0361                 <span class="keyword">if</span> nargin&gt;2
0362                     dataOut=dataIn;
0363                 <span class="keyword">end</span>
0364             <span class="keyword">end</span>
0365         <span class="keyword">end</span>
0366         <span class="comment">%reset normalisation state</span>
0367         <a name="_sub23" href="#_subfunctions" class="code">function resetNorm(obj)</a>
0368             obj.normSamplePtsIn=false;
0369             obj.normRespIn=false;
0370         <span class="keyword">end</span>
0371         <span class="comment">%check missing data</span>
0372         <a name="_sub24" href="#_subfunctions" class="code">function checkMissingData(obj)</a>
0373             <span class="comment">%Check input data (find missing data)</span>
0374             obj.confMeta.miss=CheckInputData(obj.samplingN,obj.respN,obj.gradN);
0375             obj.runMissingData=false;
0376         <span class="keyword">end</span>
0377         <span class="comment">%define the configuration for the display</span>
0378         <a name="_sub25" href="#_subfunctions" class="code">function defineDisp(obj,varargin)</a>
0379             <span class="comment">% look up the previous value</span>
0380             obj.confDisp.conf(varargin{:});
0381         <span class="keyword">end</span>
0382         <span class="comment">%train the metamodel</span>
0383         <a name="_sub26" href="#_subfunctions" class="code">function train(obj)</a>
0384             <span class="comment">%normalization of the input data</span>
0385             <a href="#_sub22" class="code" title="subfunction dataOut=normInputData(obj,type,dataIn)">normInputData</a>(obj,<span class="string">'initSamplePts'</span>);
0386             <a href="#_sub22" class="code" title="subfunction dataOut=normInputData(obj,type,dataIn)">normInputData</a>(obj,<span class="string">'initResp'</span>);
0387             obj.gradN=<a href="#_sub22" class="code" title="subfunction dataOut=normInputData(obj,type,dataIn)">normInputData</a>(obj,<span class="string">'Grad'</span>,obj.grad);
0388             <span class="comment">%check if data are missing</span>
0389             <a href="#_sub25" class="code" title="subfunction checkMissingData(obj)">checkMissingData</a>(obj);
0390             <span class="comment">%store normalization data</span>
0391             obj.confMeta.norm=obj.norm;
0392             <span class="comment">%train surrogate model</span>
0393             obj.dataTrain=<a href="../GRENATdevel/src/surrogate/BuildMeta.html" class="code" title="function [outMeta]=BuildMeta(samplingIn,respIn,gradIn,metaData)">BuildMeta</a>(obj.samplingN,obj.respN,obj.gradN,obj.confMeta);
0394             <span class="comment">%save estimate parameters</span>
0395             <span class="keyword">if</span> <a href="#_sub46" class="code" title="subfunction isF=isfield(obj,field)">isfield</a>(obj.dataTrain.build,<span class="string">'para'</span>);
0396                 obj.confMeta.definePara(obj.dataTrain.build.para);
0397                 obj.confMeta.updatePara;
0398             <span class="keyword">end</span>
0399             <span class="comment">%change state of flags</span>
0400             obj.runTrain=false;
0401             obj.runErr=true;
0402             
0403             <span class="comment">% keyboard</span>
0404             <span class="comment">% if metaData.norm.on&amp;&amp;~isempty(metaData.norm.resp.std)</span>
0405             <span class="comment">%     ret.build.sig2=ret.build.sig2*metaData.norm.resp.std^2;</span>
0406             <span class="comment">% end</span>
0407         <span class="keyword">end</span>
0408         <span class="comment">%update the metamodel by adding sample points and associated</span>
0409         <span class="comment">%responses and gradients</span>
0410         <a name="_sub27" href="#_subfunctions" class="code">function update(obj,samplingIn,respIn,gradIn,paraFind,varargin)</a>
0411             <span class="comment">%add data</span>
0412             <span class="keyword">if</span> ~isempty(samplingIn)
0413                 obj.sampling=samplingIn;
0414                 obj.resp=respIn;
0415                 obj.grad=gradIn;
0416                 <span class="comment">%initialize flags</span>
0417                 <a href="#_sub17" class="code" title="subfunction initRunTrain(obj,flag)">initRunTrain</a>(obj,true);
0418                 <a href="#_sub19" class="code" title="subfunction initRunEval(obj,flag)">initRunEval</a>(obj,true);
0419                 <span class="comment">%change status of the estimation of the parameters</span>
0420                 obj.confMeta.conf(<span class="string">'estimOn'</span>,paraFind);
0421                 <span class="comment">%deal with additional options</span>
0422                 <span class="keyword">if</span> nargin&gt;5;
0423                     obj.confMeta.conf(varargin{:});
0424                 <span class="keyword">end</span>
0425                 <span class="comment">%train the metamodel</span>
0426                 obj.train();
0427             <span class="keyword">end</span>
0428         <span class="keyword">end</span>
0429         <span class="comment">%evaluate the metamodel</span>
0430         <a name="_sub28" href="#_subfunctions" class="code">function [Z,GZ,variance]=eval(obj,nonsamplePts,Verb)</a>
0431             <span class="keyword">if</span> nargin&lt;3;Verb=true;<span class="keyword">end</span>
0432             <span class="comment">%check if the metamodel has been already trained</span>
0433             <span class="keyword">if</span> obj.runTrain;<a href="../GRENATdevel/src/surrogate/@KRG/train.html" class="code" title="function train(obj)">train</a>(obj);<span class="keyword">end</span>
0434             <span class="comment">%store non sample points</span>
0435             <span class="keyword">if</span> nargin&gt;1;obj.nonsamplePts=nonsamplePts;<span class="keyword">end</span>
0436             <span class="comment">%evaluation of the metamodels</span>
0437             <span class="keyword">if</span> obj.runEval
0438                 <span class="comment">%normalization of the input data</span>
0439                 obj.nonsamplePtsN=<a href="#_sub22" class="code" title="subfunction dataOut=normInputData(obj,type,dataIn)">normInputData</a>(obj,<span class="string">'SamplePts'</span>,obj.nonsamplePtsOrder);
0440                 <span class="comment">%evaluation of the metamodel</span>
0441                 [K]=<a href="../GRENATdevel/src/surrogate/EvalMeta.html" class="code" title="function [Z]=EvalMeta(evalSample,dataTrain,metaConf,Verb)">EvalMeta</a>(obj.nonsamplePtsN,obj.dataTrain,obj.confMeta,Verb);
0442                 <span class="comment">%store data from the evaluation</span>
0443                 obj.nonsampleRespN=K.Z;
0444                 obj.nonsampleGradN=K.GZ;
0445                 obj.nonsampleVarOrder=K.var;
0446                 <span class="comment">%renormalization of the data</span>
0447                 obj.nonsampleRespOrder=<a href="#_sub23" class="code" title="subfunction dataOut=reNormInputData(obj,type,dataIn)">reNormInputData</a>(obj,<span class="string">'Resp'</span>,obj.nonsampleRespN);
0448                 obj.nonsampleGradOrder=<a href="#_sub23" class="code" title="subfunction dataOut=reNormInputData(obj,type,dataIn)">reNormInputData</a>(obj,<span class="string">'Grad'</span>,obj.nonsampleGradN);
0449                 <span class="comment">%update flags</span>
0450                 obj.runEval=false;
0451                 obj.runErr=true;
0452             <span class="keyword">end</span>
0453             <span class="comment">%extract unnormalized data</span>
0454             Z=obj.nonsampleResp;
0455             GZ=obj.nonsampleGrad;
0456             variance=obj.nonsampleVar;
0457         <span class="keyword">end</span>
0458         <span class="comment">%check interpolation</span>
0459         <a name="_sub29" href="#_subfunctions" class="code">function [ZI,detI]=evalInfill(obj,nonsamplePts,Verb)</a>
0460             <span class="keyword">if</span> nargin&lt;3;Verb=true;<span class="keyword">end</span>
0461             <span class="comment">%store non sample points</span>
0462             <span class="keyword">if</span> nargin&gt;1;obj.nonsamplePts=nonsamplePts;<span class="keyword">end</span>
0463             <span class="comment">%evaluation</span>
0464             obj.eval([],Verb);
0465             <span class="comment">%smallest response</span>
0466             respMin=min(obj.resp);
0467             <span class="comment">%computation of infill criteria</span>
0468             ZI=[];
0469             <span class="keyword">if</span> ~isempty(obj.nonsampleVar)
0470                 [ZI,detI]=<a href="../GRENATdevel/src/crit/InfillCrit.html" class="code" title="function [ZI,detInfill]=InfillCrit(respMin,Z,varZ,infillData)">InfillCrit</a>(respMin,obj.nonsampleResp,obj.nonsampleVar,obj.confMeta.infill);
0471             <span class="keyword">end</span>
0472         <span class="keyword">end</span>
0473         <span class="comment">%check interpolation</span>
0474         <a name="_sub30" href="#_subfunctions" class="code">function [statusR,statusG]=checkInterp(obj)</a>
0475             statusG=true;
0476             <span class="comment">%evaluation of the approximation at the sample points</span>
0477             [Z,GZ]=obj.eval(obj.sampling);
0478             <span class="comment">%check interpolation</span>
0479             statusR=<a href="../GRENATdevel/src/various/checkInterpRG.html" class="code" title="function statusI=checkInterpRG(ZRef,ZApp,type,critR,critG)">checkInterpRG</a>(obj.resp,Z,<span class="string">'resp'</span>);
0480             <span class="keyword">if</span>  obj.dataTrain.used.availGrad
0481                 statusG=<a href="../GRENATdevel/src/various/checkInterpRG.html" class="code" title="function statusI=checkInterpRG(ZRef,ZApp,type,critR,critG)">checkInterpRG</a>(obj.grad,GZ,<span class="string">'grad'</span>);
0482             <span class="keyword">end</span>
0483         <span class="keyword">end</span>
0484         <span class="comment">%evaluate the CI of the metamodel</span>
0485         <a name="_sub31" href="#_subfunctions" class="code">function [ci68,ci95,ci99]=evalCI(obj,nonsamplePts)</a>
0486             <span class="comment">%store non sample points</span>
0487             <span class="keyword">if</span> nargin&gt;1;obj.nonsamplePts=nonsamplePts;<span class="keyword">end</span>
0488             <span class="comment">%eval the CI</span>
0489             [ci68,ci95,ci99]=<a href="../GRENATdevel/src/crit/BuildCI.html" class="code" title="function [ci68,ci95,ci99]=BuildCI(ZZ,var)">BuildCI</a>(obj.nonsampleResp,obj.nonsampleVar);
0490             obj.nonsampleCI.ci68=ci68;
0491             obj.nonsampleCI.ci95=ci95;
0492             obj.nonsampleCI.ci99=ci99;
0493         <span class="keyword">end</span>
0494         <span class="comment">%extract CI</span>
0495         <a name="_sub32" href="#_subfunctions" class="code">function [ci68,ci95,ci99]=CI(obj,nonsamplePts)</a>
0496             <span class="comment">%store non sample points</span>
0497             <span class="keyword">if</span> nargin&gt;1;obj.nonsamplePts=nonsamplePts;<span class="keyword">end</span>
0498             <span class="comment">%eval the CI</span>
0499             [ci68,ci95,ci99]=<a href="../GRENATdevel/src/crit/BuildCI.html" class="code" title="function [ci68,ci95,ci99]=BuildCI(ZZ,var)">BuildCI</a>(obj.nonsampleResp,obj.nonsampleVar);
0500             obj.nonsampleCI.ci68=ci68;
0501             obj.nonsampleCI.ci95=ci95;
0502             obj.nonsampleCI.ci99=ci99;
0503         <span class="keyword">end</span>
0504         <span class="comment">%compute and show the errors of the metamodel (using reference if it is</span>
0505         <span class="comment">%available)</span>
0506         <a name="_sub33" href="#_subfunctions" class="code">function errCalc(obj)</a>
0507             obj.err=<a href="../GRENATdevel/src/crit/critErrDisp.html" class="code" title="function [err,errV,errNAME]=critErrDisp(Zap,Zref,data)">critErrDisp</a>(obj.nonsampleResp,obj.respRef,obj.dataTrain.build);
0508             obj.runErr=false;
0509         <span class="keyword">end</span>
0510         <span class="comment">%define the reference surface</span>
0511         <a name="_sub34" href="#_subfunctions" class="code">function defineRef(obj,varargin)</a>
0512             <span class="comment">%accepted keyword</span>
0513             keyOk={<span class="string">'sampleRef'</span>,<span class="string">'respRef'</span>,<span class="string">'gradRef'</span>};
0514             <span class="comment">%two kind of input variables list (with keywords or not)</span>
0515             <span class="comment">%depend on the first argument: double for classical list of</span>
0516             <span class="comment">%argument or string if the use of keywords</span>
0517             execOk=true;
0518             <span class="keyword">if</span> isa(varargin{1},<span class="string">'double'</span>)
0519                 <span class="keyword">if</span> nargin&gt;1;obj.sampleRef=varargin{1};obj.nonsamplePts=varargin{1};<span class="keyword">end</span>
0520                 <span class="keyword">if</span> nargin&gt;2;obj.respRef=varargin{2};<span class="keyword">end</span>
0521                 <span class="keyword">if</span> nargin&gt;3;obj.gradRef=varargin{3};<span class="keyword">end</span>
0522             <span class="keyword">elseif</span> isa(varargin{1},<span class="string">'char'</span>)
0523                 <span class="keyword">if</span> mod(nargin-1,2)==0
0524                     <span class="keyword">for</span> itV=1:2:nargin-1
0525                         <span class="comment">%load key and associated value</span>
0526                         keyTxt=varargin{itV};
0527                         keyVal=varargin{itV+1};
0528                         <span class="comment">%check if the keyword is usable</span>
0529                         <span class="keyword">if</span> ismember(keyTxt,keyOk)
0530                             <span class="comment">%store the data</span>
0531                             obj.(keyTxt)=keyVal;
0532                         <span class="keyword">else</span>
0533                             execOk=false;
0534                         <span class="keyword">end</span>
0535                     <span class="keyword">end</span>
0536                 <span class="keyword">else</span>
0537                     execOk=false;
0538                 <span class="keyword">end</span>
0539             <span class="keyword">else</span>
0540                 execOk=false;
0541             <span class="keyword">end</span>
0542             <span class="comment">%display error message if wrong syntax</span>
0543             <span class="keyword">if</span> ~execOk
0544                 fprintf(<span class="string">'Wrong syntax for the method\n'</span>)
0545                 fprintf(<span class="string">'defineref(sampleRef,respRef,gradRef)\n'</span>)
0546                 fprintf(<span class="string">'or defineref(''sampleRef'',val1,''respRef'',val2,''gradRef'',val3)\n'</span>)
0547             <span class="keyword">end</span>
0548         <span class="keyword">end</span>
0549         <span class="comment">%check if all data is available for displaying the reference</span>
0550         <span class="comment">%surface and gradients</span>
0551         <a name="_sub35" href="#_subfunctions" class="code">function [okAll,okSample,okResp,okGrad]=checkRef(obj)</a>
0552             okSample=false;
0553             okResp=false;
0554             okGrad=false;
0555             nbSRef(1)=size(obj.sampleRef,1);
0556             nbSRef(2)=size(obj.sampleRef,2);
0557             nbSRef(3)=size(obj.sampleRef,3);
0558             nbRRef(1)=size(obj.respRef,1);
0559             nbRRef(2)=size(obj.respRef,2);
0560             nbRRef(3)=size(obj.respRef,3);
0561             nbGRef(1)=size(obj.gradRef,1);
0562             nbGRef(2)=size(obj.gradRef,2);
0563             nbGRef(3)=size(obj.gradRef,3);
0564             <span class="keyword">if</span> sum(nbSRef(:))~=0
0565                 okSample=true;
0566                 <span class="keyword">if</span> nbSRef(1)==nbRRef(1)
0567                     okResp=true;
0568                 <span class="keyword">end</span>
0569                 <span class="keyword">if</span> nbGRef(3)==1
0570                     <span class="keyword">if</span> nbGRef(1)==nbSRef(1)&amp;&amp;nbGRef(2)==nbSRef(2)
0571                         okGrad=true;
0572                     <span class="keyword">end</span>
0573                 <span class="keyword">elseif</span> nbGRef(3)==nbSRef(2)&amp;&amp;nbGRef(1)==nbSRef(1)
0574                     okGrad=true;
0575                 <span class="keyword">elseif</span> all(nbGRef==nbSRef)
0576                     okGrad=true;
0577                 <span class="keyword">end</span>
0578             <span class="keyword">end</span>
0579             okAll=okSample&amp;&amp;okResp&amp;&amp;okGrad;
0580             <span class="comment">%display error messages</span>
0581             <span class="keyword">if</span> ~okSample;<a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'&gt;&gt; Wrong definition of the reference sample points\n'</span>);<span class="keyword">end</span>
0582             <span class="keyword">if</span> ~okResp;<a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'&gt;&gt; Wrong definition of the reference responses\n'</span>);<span class="keyword">end</span>
0583             <span class="keyword">if</span> ~okGrad;<a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'&gt;&gt; Wrong definition of the reference gradients\n'</span>);<span class="keyword">end</span>
0584         <span class="keyword">end</span>
0585         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0586         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0587         <span class="comment">%define properties</span>
0588         <a name="_sub36" href="#_subfunctions" class="code">function conf(obj,varargin)</a>
0589             <span class="comment">%list properties</span>
0590             listProp=properties(obj);
0591             okConf=false;
0592             <span class="comment">%if a input variable is specified</span>
0593             <span class="keyword">if</span> nargin&gt;2
0594                 <span class="comment">%if the number of input argument is even</span>
0595                 <span class="keyword">if</span>  mod(nargin-1,2)==0
0596                     <span class="comment">%along the argument</span>
0597                     <span class="keyword">for</span> itV=1:2:nargin-1
0598                         <span class="comment">%extract keyword and associated value</span>
0599                         keyW=varargin{itV};
0600                         keyV=varargin{itV+1};
0601                         <span class="comment">%if the first argument is a string</span>
0602                         <span class="keyword">if</span> isa(varargin{1},<span class="string">'char'</span>)
0603                             <span class="comment">%check if the keyword is acceptable</span>
0604                             <span class="keyword">if</span> ismember(keyW,listProp)
0605                                 okConf=true;
0606                                 obj.(keyW)=keyV;
0607                             <span class="keyword">else</span>
0608                                 fprintf(<span class="string">'&gt;&gt; Wrong keyword ''%s''\n'</span>,keyW);
0609                             <span class="keyword">end</span>
0610                         <span class="keyword">end</span>
0611                     <span class="keyword">end</span>
0612                 <span class="keyword">end</span>
0613                 <span class="keyword">if</span> ~okConf
0614                     <a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'\nWrong syntax used for conf method\n'</span>);
0615                     <a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'use: conf(''key1'',val1,''key2'',val2...)\n'</span>);
0616                     <a href="../GRENATdevel/src/various/Gfprintf.html" class="code" title="function nbT = Gfprintf(varargin)">Gfprintf</a>(<span class="string">'\nList of the available keywords:\n'</span>);
0617                     <a href="#_sub48" class="code" title="subfunction dispTableTwoColumnsStruct(tableFieldIn,structIn)">dispTableTwoColumnsStruct</a>(listProp,obj.infoProp);
0618                 <span class="keyword">end</span>
0619             <span class="keyword">else</span>
0620                 fprintf(<span class="string">'Current configuration\n'</span>);
0621                 disp(obj);
0622             <span class="keyword">end</span>
0623         <span class="keyword">end</span>
0624         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0625         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0626         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0627         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0628         <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0629         <span class="comment">%display the surrogate model</span>
0630         <a name="_sub37" href="#_subfunctions" class="code">function show(obj,varargin)</a>
0631             <span class="comment">%depending of the kind of data</span>
0632             <span class="keyword">if</span> obj.sizeNonSample(3)==2
0633                 obj.confDisp.conf(<span class="string">'d3'</span>,true,<span class="string">'contour'</span>,true);
0634                 <span class="comment">%if argument</span>
0635                 <span class="keyword">if</span> nargin&gt;1;obj.confDisp.conf(varargin{:});<span class="keyword">end</span>
0636                 <a href="#_sub40" class="code" title="subfunction show2D(obj)">show2D</a>(obj);
0637             <span class="keyword">elseif</span> obj.sizeNonSample(3)==1
0638                 obj.confDisp.conf(<span class="string">'d3'</span>,false,<span class="string">'d2'</span>,false);
0639                 <span class="comment">%if argument</span>
0640                 <span class="keyword">if</span> nargin&gt;1;obj.confDisp.conf(varargin{:});<span class="keyword">end</span>
0641                 <a href="#_sub39" class="code" title="subfunction show1D(obj)">show1D</a>(obj);
0642             <span class="keyword">end</span>
0643         <span class="keyword">end</span>
0644         <a name="_sub38" href="#_subfunctions" class="code">function show1D(obj)</a>
0645             figure;
0646             <span class="comment">%depend if the reference is available or not</span>
0647             <span class="keyword">if</span> <a href="#_sub36" class="code" title="subfunction [okAll,okSample,okResp,okGrad]=checkRef(obj)">checkRef</a>(obj)
0648                 obj.nbSubplot=231;
0649                 <span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0650                 obj.confDisp.conf(<span class="string">'samplePts'</span>,true,<span class="string">'sampleGrad'</span>,false);
0651                 <a href="#_sub41" class="code" title="subfunction showRespRef(obj)">showRespRef</a>(obj);
0652                 obj.nbSubplot=obj.nbSubplot+1;<span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0653                 <span class="comment">%remove display of sample points</span>
0654                 obj.confDisp.conf(<span class="string">'samplePts'</span>,true,<span class="string">'sampleGrad'</span>,true);
0655                 <a href="#_sub42" class="code" title="subfunction showGradRef(obj,nbG)">showGradRef</a>(obj);
0656                 obj.nbSubplot=obj.nbSubplot+1;
0657             <span class="keyword">else</span>
0658                 obj.nbSubplot=221;
0659             <span class="keyword">end</span>
0660             obj.nbSubplot=obj.nbSubplot+1;<span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0661             obj.confDisp.conf(<span class="string">'samplePts'</span>,true,<span class="string">'sampleGrad'</span>,false);
0662             <a href="#_sub43" class="code" title="subfunction showResp(obj)">showResp</a>(obj);
0663             obj.nbSubplot=obj.nbSubplot+1;<span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0664             <span class="comment">%remove display of sample points</span>
0665             obj.confDisp.conf(<span class="string">'samplePts'</span>,true,<span class="string">'sampleGrad'</span>,true);
0666             <a href="#_sub44" class="code" title="subfunction showGrad(obj,nbG)">showGrad</a>(obj);
0667             obj.nbSubplot=obj.nbSubplot+1;<span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0668             <a href="#_sub45" class="code" title="subfunction showCI(obj,ciVal,nonsamplePts)">showCI</a>(obj,[]);
0669         <span class="keyword">end</span>
0670         <a name="_sub39" href="#_subfunctions" class="code">function show2D(obj)</a>
0671             figure;
0672             <span class="comment">%depend if the reference is available or not</span>
0673             <span class="keyword">if</span> <a href="#_sub36" class="code" title="subfunction [okAll,okSample,okResp,okGrad]=checkRef(obj)">checkRef</a>(obj)
0674                 obj.nbSubplot=331;
0675                 <span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0676                 obj.confDisp.conf(<span class="string">'samplePts'</span>,true);
0677                 <a href="#_sub41" class="code" title="subfunction showRespRef(obj)">showRespRef</a>(obj);
0678                 obj.nbSubplot=obj.nbSubplot+1;<span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0679                 <span class="comment">%remove display of sample points</span>
0680                 obj.confDisp.conf(<span class="string">'samplePts'</span>,false,<span class="string">'sampleGrad'</span>,false);
0681                 <a href="#_sub42" class="code" title="subfunction showGradRef(obj,nbG)">showGradRef</a>(obj,1);
0682                 obj.nbSubplot=obj.nbSubplot+1;<span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0683                 <a href="#_sub42" class="code" title="subfunction showGradRef(obj,nbG)">showGradRef</a>(obj,2);
0684             <span class="keyword">else</span>
0685                 obj.nbSubplot=231;
0686             <span class="keyword">end</span>
0687             obj.nbSubplot=obj.nbSubplot+1;<span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0688             obj.confDisp.conf(<span class="string">'samplePts'</span>,true);
0689             <a href="#_sub43" class="code" title="subfunction showResp(obj)">showResp</a>(obj);
0690             obj.nbSubplot=obj.nbSubplot+1;<span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0691             <span class="comment">%remove display of sample points</span>
0692             obj.confDisp.conf(<span class="string">'samplePts'</span>,false,<span class="string">'sampleGrad'</span>,false,<span class="string">'gridGrad'</span>,false);
0693             <a href="#_sub44" class="code" title="subfunction showGrad(obj,nbG)">showGrad</a>(obj,1);
0694             obj.nbSubplot=obj.nbSubplot+1;<span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0695             <a href="#_sub44" class="code" title="subfunction showGrad(obj,nbG)">showGrad</a>(obj,2);
0696             obj.nbSubplot=obj.nbSubplot+1;<span class="keyword">if</span> ~obj.confDisp.newFig;subplot(obj.nbSubplot);<span class="keyword">end</span>
0697             <a href="#_sub45" class="code" title="subfunction showCI(obj,ciVal,nonsamplePts)">showCI</a>(obj,[]);
0698         <span class="keyword">end</span>
0699         <span class="comment">%display the reference surface</span>
0700         <a name="_sub40" href="#_subfunctions" class="code">function showRespRef(obj)</a>
0701             obj.confDisp.title=(<span class="string">'Reference'</span>);
0702             <a href="../GRENATdevel/src/disp/displaySurrogate.html" class="code" title="function figHandle=displaySurrogate(gridXY,Z,sampling,resp,grad,dispData)">displaySurrogate</a>(obj.sampleRef,obj.respRef,obj.sampling,obj.resp,obj.grad,obj.confDisp);
0703         <span class="keyword">end</span>
0704         <span class="comment">%display the reference gradients surface</span>
0705         <a name="_sub41" href="#_subfunctions" class="code">function showGradRef(obj,nbG)</a>
0706             <span class="comment">%default value</span>
0707             <span class="keyword">if</span> nargin==1;nbG=1:size(obj.nonsampleGrad,3);<span class="keyword">end</span>
0708             <span class="keyword">for</span> itG=1:numel(nbG)
0709                 obj.confDisp.title=([<span class="string">'Gradients Reference /x'</span> num2str(nbG(itG))]);
0710                 <a href="../GRENATdevel/src/disp/displaySurrogate.html" class="code" title="function figHandle=displaySurrogate(gridXY,Z,sampling,resp,grad,dispData)">displaySurrogate</a>(obj.sampleRef,obj.gradRef(:,:,nbG(itG)),obj.sampling,obj.resp,obj.grad,obj.confDisp);
0711             <span class="keyword">end</span>
0712         <span class="keyword">end</span>
0713         <span class="comment">%display the response approximated by the metamodel</span>
0714         <a name="_sub42" href="#_subfunctions" class="code">function showResp(obj)</a>
0715             obj.confDisp.title=(<span class="string">'Approximated responses'</span>);
0716             <a href="../GRENATdevel/src/disp/displaySurrogate.html" class="code" title="function figHandle=displaySurrogate(gridXY,Z,sampling,resp,grad,dispData)">displaySurrogate</a>(obj.nonsamplePts,obj.nonsampleResp,obj.sampling,obj.resp,obj.grad,obj.confDisp);
0717         <span class="keyword">end</span>
0718         <span class="comment">%display the gradients approximated by the metamodel</span>
0719         <a name="_sub43" href="#_subfunctions" class="code">function showGrad(obj,nbG)</a>
0720             <span class="comment">%default value</span>
0721             <span class="keyword">if</span> nargin==1;nbG=1:size(obj.nonsampleGrad,3);<span class="keyword">end</span>
0722             <span class="keyword">for</span> itG=1:numel(nbG)
0723                 obj.confDisp.title=([<span class="string">'Approximated gradients /x'</span> num2str(nbG(itG))]);
0724                 <a href="../GRENATdevel/src/disp/displaySurrogate.html" class="code" title="function figHandle=displaySurrogate(gridXY,Z,sampling,resp,grad,dispData)">displaySurrogate</a>(obj.nonsamplePts,obj.nonsampleGrad(:,:,nbG(itG)),obj.sampling,obj.resp,obj.grad,obj.confDisp);
0725             <span class="keyword">end</span>
0726         <span class="keyword">end</span>
0727         <span class="comment">%display the confidence intervals approximated by the metamodel</span>
0728         <a name="_sub44" href="#_subfunctions" class="code">function showCI(obj,ciVal,nonsamplePts)</a>
0729             <span class="comment">%type of confidence intervals</span>
0730             ciOk=false;ciValDef=95;
0731             <span class="keyword">if</span> nargin&gt;1;<span class="keyword">if</span> ~isempty(ciVal);<span class="keyword">if</span> ismember(ciVal,[68,95,99]);ciOk=true;<span class="keyword">end</span>, <span class="keyword">end</span>, <span class="keyword">end</span>
0732             <span class="keyword">if</span> ~ciOk;ciVal=ciValDef;<span class="keyword">end</span>
0733             <span class="comment">%store non sample points</span>
0734             <span class="keyword">if</span> nargin&gt;2;obj.nonsamplePts=nonsamplePts;<span class="keyword">end</span>
0735             obj.confDisp.title=([num2str(ciVal) <span class="string">'% confidence intervals'</span>]);
0736             <span class="comment">%evaluation of the confidence interval</span>
0737             <a href="#_sub32" class="code" title="subfunction [ci68,ci95,ci99]=evalCI(obj,nonsamplePts)">evalCI</a>(obj);
0738             <span class="comment">%load data to display</span>
0739             ciDisp=obj.nonsampleCI.([<span class="string">'ci'</span> num2str(ciVal)]);
0740             <span class="comment">%display the CI</span>
0741             <a href="../GRENATdevel/src/disp/displaySurrogateCI.html" class="code" title="function displaySurrogateCI(Xpts,ic,dispData,Z)">displaySurrogateCI</a>(obj.nonsamplePts,ciDisp,obj.confDisp,obj.nonsampleResp);
0742         <span class="keyword">end</span>
0743         <span class="comment">%overload isfield</span>
0744         <a name="_sub45" href="#_subfunctions" class="code">function isF=isfield(obj,field)</a>
0745             isF=isprop(obj,field);
0746         <span class="keyword">end</span>
0747     <span class="keyword">end</span>
0748 <span class="keyword">end</span>
0749 
0750 
0751 
0752 
0753 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0754 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0755 <span class="comment">%function for declaring the purpose of each properties</span>
0756 <a name="_sub46" href="#_subfunctions" class="code">function info=affectTxtProp()</a>
0757 info.type=<span class="string">'Type of the surrogate model'</span>;
0758 info.sampling=<span class="string">'Coordinates of the sample points'</span>;
0759 info.resp=<span class="string">'Value(s) of the responses at the sample points'</span>;
0760 info.grad=<span class="string">'Value(s) of the gradients at the sample points'</span>;
0761 info.samplingN=<span class="string">'Normalized coordinates of the sample points'</span>;
0762 info.respN=<span class="string">'Value(s) of the normalized responses at the sample points'</span>;
0763 info.gradN=<span class="string">'Value(s) of the normalized gradients at the sample points'</span>;
0764 info.nonsamplePts=<span class="string">'Coordinates of the non-sample points'</span>;
0765 info.nonsampleResp=<span class="string">'Value(s) of the approximated responses calculated at the non-sample points'</span>;
0766 info.nonsampleGrad=<span class="string">'Value(s) of the approximated gradients calculated at the non-sample points'</span>;
0767 info.nonsamplePtsN=<span class="string">'Normalized coordinates of the  non-sample points'</span>;
0768 info.nonsampleRespN=<span class="string">'Value(s) of the normalized approximated responses calculated at the non-sample points'</span>;
0769 info.nonsampleGradN=<span class="string">'Value(s) of the normalized approximated gradients calculated at the non-sample points'</span>;
0770 info.nonsampleVar=<span class="string">'Value(s) of the variance calculated at the non-sample points'</span>;
0771 info.nonsampleCI=<span class="string">'Structure containing the bounds of the confidence intervals (68%, 95%, 99%)'</span>;
0772 info.nonsampleEI=<span class="string">'Value(s) of the expected improvment calculated at the non-sample points'</span>;
0773 info.norm=<span class="string">'Structure containing the normalization data'</span>;
0774 info.normMeanS=<span class="string">'Mean value of the sample points (vector)'</span>;
0775 info.normStdS=<span class="string">'Standard deviation of the sample points (vector)'</span>;
0776 info.normMeanR=<span class="string">'Mean value of the responses'</span>;
0777 info.normStdR=<span class="string">'Standard deviation of the responses'</span>;
0778 info.err=<span class="string">'Structure containing the values of the error criteria'</span>;
0779 info.sampleRef=<span class="string">'Array of the sample points used for the reference response surface'</span>;
0780 info.respRef=<span class="string">'Array of the responses of the reference response surface'</span>;
0781 info.gradRef=<span class="string">'Array of the gradients of the reference response surface'</span>;
0782 info.confMeta=<span class="string">'Class object (initMeta) containing information about the configuration (metamodel) (conf method for modifying it)'</span>;
0783 info.dataTrain=<span class="string">'Structures containing data about the training of the surrogate model'</span>;
0784 info.confDisp=<span class="string">'Class object (initDisp) containing information about the display (conf method for modifying it)'</span>;
0785 info.miss=<span class="string">'Structure Containing information about the missing data'</span>;
0786 <span class="keyword">end</span>
0787 
0788 <span class="comment">%function display table with two columns of text</span>
0789 <a name="_sub47" href="#_subfunctions" class="code">function dispTableTwoColumnsStruct(tableFieldIn,structIn)</a>
0790 <span class="comment">%size of every components in tableA</span>
0791 sizeA=cellfun(@numel,tableFieldIn);
0792 maxA=max(sizeA);
0793 <span class="comment">%space after each component</span>
0794 spaceA=maxA-sizeA+3;
0795 spaceTxt=<span class="string">' '</span>;
0796 <span class="comment">%display table</span>
0797 <span class="keyword">for</span> itT=1:numel(tableFieldIn)
0798     <span class="keyword">if</span> <a href="#_sub46" class="code" title="subfunction isF=isfield(obj,field)">isfield</a>(structIn,tableFieldIn{itT})
0799         fprintf(<span class="string">'%s%s%s\n'</span>,tableFieldIn{itT},spaceTxt(ones(1,spaceA(itT))),structIn.(tableFieldIn{itT}));
0800     <span class="keyword">end</span>
0801 <span class="keyword">end</span>
0802 <span class="keyword">end</span>
0803 
0804 <span class="comment">%function display table with two columns of text</span>
0805 <a name="_sub48" href="#_subfunctions" class="code">function dispTableTwoColumns(tableA,tableB)</a>
0806 <span class="comment">%size of every components in tableA</span>
0807 sizeA=cellfun(@numel,tableA);
0808 maxA=max(sizeA);
0809 <span class="comment">%space after each component</span>
0810 spaceA=maxA-sizeA+3;
0811 spaceTxt=<span class="string">' '</span>;
0812 <span class="comment">%display table</span>
0813 <span class="keyword">for</span> itT=1:numel(tableA)
0814     fprintf(<span class="string">'%s%s%s\n'</span>,tableA{itT},spaceTxt(ones(1,spaceA(itT))),tableB{itT});
0815 <span class="keyword">end</span>
0816 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Fri 18-Aug-2017 00:34:12 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>